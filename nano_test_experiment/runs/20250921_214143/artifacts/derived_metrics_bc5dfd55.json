{
  "analysis_id": "analysis_v2_analysis_20250921_174208_0",
  "step": "derived_metrics",
  "model_used": "vertex_ai/gemini-2.5-pro",
  "derived_metrics": "```python\nimport json\n\nscores = {\n  \"positive_sentiment\": 0.95,\n  \"negative_sentiment\": 0.0\n}\n\nresults = {}\n\n# Calculate Net Sentiment Score\n# Net Sentiment = Positive Sentiment - Negative Sentiment\nresults[\"net_sentiment\"] = scores[\"positive_sentiment\"] - scores[\"negative_sentiment\"]\n\n# Calculate Sentiment Ratio\n# Sentiment Ratio = Positive Sentiment / (Positive Sentiment + Negative Sentiment)\n# Handle division by zero if both are zero\nif scores[\"positive_sentiment\"] + scores[\"negative_sentiment\"] > 0:\n    results[\"sentiment_ratio\"] = scores[\"positive_sentiment\"] / (scores[\"positive_sentiment\"] + scores[\"negative_sentiment\"])\nelse:\n    results[\"sentiment_ratio\"] = 0.0\n\n# Calculate Sentiment Intensity\n# Sentiment Intensity = max(Positive Sentiment, Negative Sentiment)\nresults[\"sentiment_intensity\"] = max(scores[\"positive_sentiment\"], scores[\"negative_sentiment\"])\n\n# Calculate Sentiment Balance\n# Sentiment Balance = 1 - abs(Positive Sentiment - Negative Sentiment)\n# This metric ranges from 0 (extremely polarized) to 1 (perfectly balanced, though not necessarily neutral)\nresults[\"sentiment_balance\"] = 1 - abs(scores[\"positive_sentiment\"] - scores[\"negative_sentiment\"])\n\n# Calculate Dominant Sentiment (1 for positive, -1 for negative, 0 for neutral/equal)\nif scores[\"positive_sentiment\"] > scores[\"negative_sentiment\"]:\n    results[\"dominant_sentiment\"] = 1\nelif scores[\"negative_sentiment\"] > scores[\"positive_sentiment\"]:\n    results[\"dominant_sentiment\"] = -1\nelse:\n    results[\"dominant_sentiment\"] = 0\n\nprint(json.dumps({\"results\": results}, separators=(\",\", \":\")))\n```\n```json\n{\"results\":{\"net_sentiment\":0.95,\"sentiment_ratio\":1.0,\"sentiment_intensity\":0.95,\"sentiment_balance\":0.95,\"dominant_sentiment\":1}}\n```",
  "document_index": 0,
  "timestamp": "2025-09-21T21:42:35.791038+00:00"
}