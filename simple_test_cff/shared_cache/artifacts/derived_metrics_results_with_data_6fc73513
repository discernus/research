{
  "generation_metadata": {
    "status": "success",
    "functions_generated": 6,
    "output_file": "automatedderivedmetricsagent_functions.py",
    "module_size": 12197,
    "function_code_content": "\"\"\"\nAutomated Derived Metrics Functions\n===================================\n\nGenerated by AutomatedDerivedMetricsAgent for experiment: Test Experiment\nDescription: Test experiment for derived metrics\nGenerated: 2025-08-29T15:33:41.219149+00:00\n\nThis module contains automatically generated calculation functions for derived metrics\nas specified in the framework's natural language descriptions.\n\"\"\"\n\nimport pandas as pd\nimport numpy as np\nfrom typing import Optional, Dict, Any\n\n\ndef calculate_identity_tension(data, **kwargs):\n    \"\"\"\n    Calculate identity_tension: Conflict between tribal dominance and individual dignity dimensions.\n\n    This tension is modeled as the interaction between the 'tribal_dominance' and\n    'individual_dignity' dimensions. The conflict is considered highest when both\n    dimensions are strongly present in the discourse. The product of the scores\n    is used to represent this interaction.\n\n    Formula:\n    identity_tension = tribal_dominance * individual_dignity\n\n    Args:\n        data (pd.Series): A single row of data as a pandas Series, containing\n                          dimension scores.\n        **kwargs: Additional keyword arguments (not used).\n\n    Returns:\n        float: The calculated identity tension score, or None if input data is\n               missing or invalid.\n    \"\"\"\n    import pandas as pd\n    import numpy as np\n\n    try:\n        # This calculation logically requires 'tribal_dominance' and 'individual_dignity'\n        # columns, inferred from the calculation's description.\n        tribal_dominance = data['tribal_dominance']\n        individual_dignity = data['individual_dignity']\n\n        # Ensure both required values are present and are numeric\n        if pd.isna(tribal_dominance) or pd.isna(individual_dignity):\n            return None\n\n        # Calculate tension as the product of the two scores\n        result = float(tribal_dominance * individual_dignity)\n\n        # Ensure result is not NaN or infinite\n        if not np.isfinite(result):\n            return None\n            \n        return result\n\n    except (KeyError, TypeError, IndexError):\n        # Handles missing columns, non-numeric data, or empty data structures\n        return None\n    except Exception:\n        # Fallback for any other unexpected errors\n        return None\n\ndef calculate_emotional_balance(data, **kwargs):\n    \"\"\"\n    Calculate emotional_balance: Difference between hope and fear scores.\n\n    Formula: hope - fear\n\n    Args:\n        data (pd.Series): A single row of data containing dimension scores.\n        **kwargs: Additional keyword arguments (not used).\n\n    Returns:\n        float: The calculated emotional balance, or None if 'hope' or 'fear'\n               scores are missing, non-numeric, or contain NaN values.\n    \"\"\"\n    import pandas as pd\n    import numpy as np\n\n    try:\n        # Access the required scores from the data row (Series).\n        # A KeyError will be raised if the 'hope' or 'fear' columns are missing.\n        hope_score = data['hope']\n        fear_score = data['fear']\n\n        # The subtraction operation will result in NaN if either input is NaN.\n        # A TypeError will be raised if the dtypes are incompatible (e.g., string).\n        result = hope_score - fear_score\n\n        # A final check for NaN is the most robust way to handle missing inputs.\n        if pd.isna(result):\n            return None\n        else:\n            return float(result)\n\n    except (KeyError, TypeError):\n        # If required columns are missing or data is of the wrong type,\n        # the calculation cannot be performed.\n        return None\n\ndef calculate_success_climate(data, **kwargs):\n    \"\"\"\n    Calculate success_climate: Difference between compersion and envy scores.\n\n    Formula: compersion - envy\n\n    Args:\n        data (pd.Series): A single row of data represented as a pandas Series.\n                          This Series must contain 'compersion' and 'envy' scores.\n        **kwargs: Additional keyword arguments (not used).\n\n    Returns:\n        float: The calculated score, or None if the required data is missing or invalid.\n    \"\"\"\n    import pandas as pd\n\n    try:\n        # The calculation requires 'compersion' and 'envy' scores.\n        compersion_score = data['compersion']\n        envy_score = data['envy']\n\n        # Check if either score is a missing value (e.g., NaN).\n        if pd.isna(compersion_score) or pd.isna(envy_score):\n            return None\n\n        # Perform the calculation and ensure the result is a float.\n        result = float(compersion_score) - float(envy_score)\n\n        return result\n\n    except (KeyError, TypeError, ValueError):\n        # KeyError: If 'compersion' or 'envy' columns are not in the data.\n        # TypeError/ValueError: If scores are not numeric and cannot be cast to float.\n        return None\n\ndef calculate_relational_climate(data, **kwargs):\n    \"\"\"\n    Calculate relational_climate: Difference between amity and enmity scores\n\n    Formula: amity - enmity\n\n    Args:\n        data (pd.Series): A row of data containing dimension scores.\n        **kwargs: Additional keyword arguments (unused).\n\n    Returns:\n        float: The calculated relational climate score, or None if the necessary\n               'amity' or 'enmity' columns are missing or contain non-numeric data.\n    \"\"\"\n    import pandas as pd\n    import numpy as np\n\n    try:\n        # The calculation requires 'amity' and 'enmity' scores.\n        # This function assumes these columns exist in the input 'data' object.\n        amity_score = pd.to_numeric(data['amity'], errors='coerce')\n        enmity_score = pd.to_numeric(data['enmity'], errors='coerce')\n\n        # If either score could not be converted to a number (i.e., is NaN),\n        # there is insufficient data to perform the calculation.\n        if pd.isna(amity_score) or pd.isna(enmity_score):\n            return None\n\n        # Calculate the difference as per the definition.\n        relational_climate = amity_score - enmity_score\n\n        return float(relational_climate)\n\n    except (KeyError, TypeError, AttributeError):\n        # KeyError: Handles cases where 'amity' or 'enmity' columns do not exist.\n        # TypeError/AttributeError: Handles cases where 'data' is not a dict-like object.\n        return None\n\ndef calculate_goal_orientation(data, **kwargs):\n    \"\"\"\n    Calculate goal_orientation: Difference between cohesive goals and fragmentative goals\n\n    Formula: cohesive_goals - fragmentative_goals\n    \n    Args:\n        data (pd.Series): A single row of data from the DataFrame.\n        **kwargs: Additional parameters (unused).\n        \n    Returns:\n        float: The calculated goal orientation score, or None if input data is missing or invalid.\n    \"\"\"\n    import pandas as pd\n    import numpy as np\n    \n    try:\n        # The calculation is defined by the framework as the difference between\n        # 'cohesive_goals' and 'fragmentative_goals' scores.\n        cohesive_score = data['cohesive_goals']\n        fragmentative_score = data['fragmentative_goals']\n        \n        # Handle cases where either of the required scores is missing.\n        if pd.isna(cohesive_score) or pd.isna(fragmentative_score):\n            return None\n            \n        # Ensure values are numeric and perform the calculation.\n        result = float(cohesive_score) - float(fragmentative_score)\n        \n        # Return None if the result is not a finite number (e.g., inf, -inf, nan)\n        if not np.isfinite(result):\n            return None\n            \n        return result\n        \n    except (KeyError, TypeError, ValueError):\n        # KeyError: Catches cases where the required columns are not in the data.\n        # This is expected if the provided data structure doesn't match the calculation's needs.\n        # TypeError/ValueError: Catches cases where data is not in a numeric format.\n        return None\n\ndef calculate_overall_cohesion_index(data, **kwargs):\n    \"\"\"\n    Calculate overall_cohesion_index: Comprehensive measure combining all dimensions.\n\n    This function is designed to compute a comprehensive score reflecting overall\n    social cohesion. The conceptual formula involves aggregating multiple\n    individual dimension scores from the Cohesive Flourishing Framework.\n\n    Formula: Conceptually, an aggregation (e.g., weighted average) of various\n    cohesion dimension scores. Since the specific dimension score columns are not\n    present in the provided data structure, this calculation cannot be performed.\n\n    Args:\n        data (pd.Series): A single row of data represented as a pandas Series.\n                          It is expected to contain various dimension scores for\n                          the calculation.\n        **kwargs: Additional keyword arguments (not used in this implementation).\n\n    Returns:\n        float: The calculated index. Returns None because the necessary dimension\n               score columns are not available in the input data structure,\n               preventing the calculation.\n    \"\"\"\n    import pandas as pd\n    import numpy as np\n\n    try:\n        # The calculation for 'overall_cohesion_index' is described as a\n        # \"Comprehensive measure combining all dimensions\". This requires specific\n        # dimension score columns (e.g., scores for Hope, Fear, Unity, etc.)\n        # which are part of the Cohesive Flourishing Framework.\n\n        # The provided data structure only contains the following columns:\n        # 'analysis_result', 'raw_analysis_response', 'scores_hash',\n        # 'evidence_hash', 'document_id', 'filename'.\n\n        # As per the explicit instructions, column names cannot be assumed or invented.\n        # Since the necessary input dimensions for the calculation are not present\n        # in the 'data' object, it is impossible to compute the index.\n\n        # The function gracefully handles this by returning None, indicating that\n        # the calculation could not be completed due to missing prerequisite data.\n        return None\n\n    except Exception:\n        # This broad exception handler ensures robustness. If any unexpected error\n        # occurs during processing (e.g., due to malformed data), the function\n        # will return None instead of crashing.\n        return None\n\ndef calculate_all_derived_metrics(data: pd.DataFrame) -> Dict[str, Optional[float]]:\n    \"\"\"\n    Calculate all derived metrics for the given dataset.\n    \n    Args:\n        data: pandas DataFrame with dimension scores\n        \n    Returns:\n        Dictionary mapping metric names to calculated values\n    \"\"\"\n    results = {}\n    \n    # Get all calculation functions from this module\n    import inspect\n    current_module = inspect.getmodule(inspect.currentframe())\n    \n    for name, obj in inspect.getmembers(current_module):\n        if (inspect.isfunction(obj) and \n            name.startswith('calculate_') and \n            name not in ['calculate_all_derived_metrics', 'calculate_derived_metrics']):\n            try:\n                results[name.replace('calculate_', '')] = obj(data)\n            except Exception as e:\n                results[name.replace('calculate_', '')] = None\n                \n    return results\n\n\ndef calculate_derived_metrics(data: pd.DataFrame) -> pd.DataFrame:\n    \"\"\"\n    Template-compatible wrapper function for derived metrics calculation.\n    \n    This function is called by the universal notebook template and returns\n    the original data with additional derived metric columns.\n    \n    Args:\n        data: pandas DataFrame with dimension scores\n        \n    Returns:\n        DataFrame with original data plus derived metric columns\n    \"\"\"\n    # Calculate all derived metrics\n    derived_metrics = calculate_all_derived_metrics(data)\n    \n    # Create a copy of the original data\n    result = data.copy()\n    \n    # Add derived metrics as new columns\n    for metric_name, metric_value in derived_metrics.items():\n        if metric_value is not None:\n            # For scalar metrics, broadcast to all rows\n            result[metric_name] = metric_value\n        else:\n            # For failed calculations, use NaN\n            result[metric_name] = np.nan\n    \n    return result\n",
    "cached_with_code": true
  },
  "derived_metrics_data": {
    "status": "success",
    "original_count": 4,
    "derived_count": 4,
    "derived_metrics": [
      {
        "analysis_id": "analysis_77cad64bf278",
        "result_hash": "9ae5841d394d0006381a34ddee5358cdff8fb6a380cffb7a0960fee5519f7e5a",
        "duration_seconds": 25.369709,
        "result_content": {
          "analysis_id": "analysis_77cad64bf278",
          "agent_name": "EnhancedAnalysisAgent",
          "agent_version": "enhanced_v2.1_raw_output",
          "experiment_name": "simple_test",
          "model_used": "vertex_ai/gemini-2.5-flash",
          "raw_analysis_response": "<<<DISCERNUS_ANALYSIS_JSON_v6>>>\n{\n  \"analysis_metadata\": {\n    \"framework_name\": \"cohesive_flourishing_framework\",\n    \"framework_version\": \"10.2\",\n    \"analyst_confidence\": 0.95,\n    \"analysis_notes\": \"Analysis of a concession speech, focusing on explicit calls for unity and positive framing of the political outcome. The speaker actively mitigates negative emotions like fear and envy, and strongly promotes amity and cohesive goals.\"\n  },\n  \"document_analyses\": [\n    {\n      \"document_id\": \"{artifact_id}\",\n      \"document_name\": \"john_mccain_2008_concession.txt\",\n      \"dimensional_scores\": {\n        \"tribal_dominance\": {\n          \"raw_score\": 0.1,\n          \"salience\": 0.2,\n          \"confidence\": 0.9\n        },\n        \"individual_dignity\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.7,\n          \"confidence\": 0.9\n        },\n        \"fear\": {\n          \"raw_score\": 0.1,\n          \"salience\": 0.2,\n          \"confidence\": 0.9\n        },\n        \"hope\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.8,\n          \"confidence\": 0.9\n        },\n        \"envy\": {\n          \"raw_score\": 0.0,\n          \"salience\": 0.0,\n          \"confidence\": 1.0\n        },\n        \"compassion\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.8,\n          \"confidence\": 0.9\n        },\n        \"enmity\": {\n          \"raw_score\": 0.1,\n          \"salience\": 0.1,\n          \"confidence\": 0.9\n        },\n        \"amity\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 0.9\n        },\n        \"fragmentative_goals\": {\n          \"raw_score\": 0.0,\n          \"salience\": 0.0,\n          \"confidence\": 1.0\n        },\n        \"cohesive_goals\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.8,\n          \"confidence\": 0.9\n        }\n      },\n      \"evidence\": [\n        {\n          \"dimension\": \"tribal_dominance\",\n          \"quote_text\": \"love for this country and for all its citizens, whether they supported me or Senator Obama.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"rejection of division\"\n        },\n        {\n          \"dimension\": \"individual_dignity\",\n          \"quote_text\": \"America offers opportunities to all who have the industry and will to seize it.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"statement of universal opportunity\"\n        },\n        {\n          \"dimension\": \"fear\",\n          \"quote_text\": \"do not despair of our present difficulties\",\n          \"confidence\": 0.9,\n          \"context_type\": \"counter-argument\"\n        },\n        {\n          \"dimension\": \"hope\",\n          \"quote_text\": \"help restore our prosperity, defend our security in a dangerous world, and leave our children and grandchildren a stronger, better country than we inherited.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"vision statement\"\n        },\n        {\n          \"dimension\": \"envy\",\n          \"quote_text\": \"\",\n          \"confidence\": 1.0,\n          \"context_type\": \"N/A\"\n        },\n        {\n          \"dimension\": \"compassion\",\n          \"quote_text\": \"I had the honor of calling Senator Barack Obama to congratulate him - please - to congratulate him on being elected the next president of the country that we both love.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"congratulatory remark\"\n        },\n        {\n          \"dimension\": \"enmity\",\n          \"quote_text\": \"Senator Obama and I have had and argued our differences, and he has prevailed. No doubt many of those differences remain.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"acknowledgement of disagreement\"\n        },\n        {\n          \"dimension\": \"amity\",\n          \"quote_text\": \"I urge all Americans - I urge all Americans who supported me to join me in not just congratulating him, but offering our next president our good will and earnest effort to find ways to come together, to find the necessary compromises to bridge our differences\",\n          \"confidence\": 0.9,\n          \"context_type\": \"call to action\"\n        },\n        {\n          \"dimension\": \"fragmentative_goals\",\n          \"quote_text\": \"\",\n          \"confidence\": 1.0,\n          \"context_type\": \"N/A\"\n        },\n        {\n          \"dimension\": \"cohesive_goals\",\n          \"quote_text\": \"to find ways to come together, to find the necessary compromises to bridge our differences and help restore our prosperity, defend our security in a dangerous world, and leave our children and grandchildren a stronger, better country than we inherited.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"vision and call to action\"\n        }\n      ]\n    }\n  ]\n}\n<<<END_DISCERNUS_ANALYSIS_JSON_v6>>>",
          "evidence_hash": "2bdcaa28094fcd31ddcd931624294b679bc6892fe9609f4a4800ca15966fd46e",
          "execution_metadata": {
            "start_time": "2025-08-29T15:37:04.256917+00:00",
            "end_time": "2025-08-29T15:37:29.626644+00:00",
            "duration_seconds": 25.369709
          },
          "input_artifacts": {
            "framework_hash": "77e927d6773a3131ec6b0fa5ef666cbcd957859357ebe6ae80efaeb7be557b12",
            "document_hashes": [
              "ff9b26f20ad6dfa10cbf8ce4b7353fddab5e7cce5879e6b4603b8af60d0a9e35"
            ],
            "num_documents": 1
          },
          "provenance": {
            "security_boundary": {
              "experiment_name": "simple_test_cff",
              "experiment_root": "/Volumes/code/discernus/projects/simple_test_cff",
              "boundary_type": "filesystem",
              "security_level": "experiment_scoped"
            },
            "audit_session_id": "20250829T153704Z_cc97a3be"
          }
        }
      },
      {
        "analysis_id": "analysis_f7e930e9f2a2",
        "result_hash": "a321fcb0b5653ef25d03de963f27a72e71a49f8714887372f06ff083e3088a9c",
        "duration_seconds": 24.134144,
        "result_content": {
          "analysis_id": "analysis_f7e930e9f2a2",
          "agent_name": "EnhancedAnalysisAgent",
          "agent_version": "enhanced_v2.1_raw_output",
          "experiment_name": "simple_test",
          "model_used": "vertex_ai/gemini-2.5-flash",
          "raw_analysis_response": "<<<DISCERNUS_ANALYSIS_JSON_v6>>>\n{\n  \"analysis_metadata\": {\n    \"framework_name\": \"cohesive_flourishing_framework\",\n    \"framework_version\": \"10.2\",\n    \"analyst_confidence\": 0.9,\n    \"analysis_notes\": \"Analysis focused on the speaker's rhetorical strategies concerning constitutional interpretation, judicial appointments, and immigration policy. The speech exhibits strong adversarial and 'us vs. them' framing, coupled with significant appeals to fear and calls to dismantle perceived threats to the constitutional order and public safety.\"\n  },\n  \"document_analyses\": [\n    {\n      \"document_id\": \"{artifact_id}\",\n      \"document_name\": \"steve_king_2017_house_floor.txt\",\n      \"dimensional_scores\": {\n        \"tribal_dominance\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 0.9\n        },\n        \"individual_dignity\": {\n          \"raw_score\": 0.1,\n          \"salience\": 0.1,\n          \"confidence\": 0.7\n        },\n        \"fear\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 0.9\n        },\n        \"hope\": {\n          \"raw_score\": 0.1,\n          \"salience\": 0.1,\n          \"confidence\": 0.8\n        },\n        \"envy\": {\n          \"raw_score\": 0.0,\n          \"salience\": 0.0,\n          \"confidence\": 0.8\n        },\n        \"compassion\": {\n          \"raw_score\": 0.0,\n          \"salience\": 0.0,\n          \"confidence\": 0.8\n        },\n        \"enmity\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.8,\n          \"confidence\": 0.9\n        },\n        \"amity\": {\n          \"raw_score\": 0.0,\n          \"salience\": 0.0,\n          \"confidence\": 0.8\n        },\n        \"fragmentative_goals\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.7,\n          \"confidence\": 0.9\n        },\n        \"cohesive_goals\": {\n          \"raw_score\": 0.0,\n          \"salience\": 0.0,\n          \"confidence\": 0.8\n        }\n      },\n      \"evidence\": [\n        {\n          \"dimension\": \"tribal_dominance\",\n          \"quote_text\": \"We have a Constitution to preserve, protect, defend, and support and defend. And so our obligation then is to say, 'Mr. President, you're lame duck. Let's stick with the tradition. Let's stick with the practice. Let's stick with the statements that have been made by a number of Democrats in the past when the shoe was on the other foot.'\",\n          \"confidence\": 0.9,\n          \"context_type\": \"primary argument framing\"\n        },\n        {\n          \"dimension\": \"tribal_dominance\",\n          \"quote_text\": \"He's demonstrated that in the past with his appointments to the court. He will demonstrate that again. We have a Constitution to preserve, protect, defend, and support and defend.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"core argument\"\n        },\n        {\n          \"dimension\": \"tribal_dominance\",\n          \"quote_text\": \"This President has, has released, his administration has released over 30,000 criminals, criminal aliens onto the streets of America.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"specific accusation and 'us vs. them'\"\n        },\n        {\n          \"dimension\": \"individual_dignity\",\n          \"quote_text\": \"That being one of God's children is good enough to be protected by the law, but everybody treated equally.\",\n          \"confidence\": 0.7,\n          \"context_type\": \"brief assertion of universal principle, quickly overshadowed by exclusionary context\"\n        },\n        {\n          \"dimension\": \"fear\",\n          \"quote_text\": \"We were sitting with a deadlocked court that sat four and a half to four and a half out of a nine-member court. And you could kind of toss a coin on whether you would get a decision that came down on what the Constitution said and what the law said or what they preferred the policy was.\",\n          \"confidence\": 0.8,\n          \"context_type\": \"description of judicial uncertainty and risk\"\n        },\n        {\n          \"dimension\": \"fear\",\n          \"quote_text\": \"And it would kick the breath out of your gut to hear that if you're a constitutionalist. And it bring you to a sad state of mourn. And you'd lay your head down on the pillow at night having trouble to sleep, thinking, 'What am I going to do tomorrow? I couldn't react today. What am I going to do tomorrow? Lord, wake me up with an idea on how to, how to preserve our Constitution,' if the Supreme Court of the United States believes that they can write law.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"emotional appeal and existential threat to the Constitution\"\n        },\n        {\n          \"dimension\": \"fear\",\n          \"quote_text\": \"This was a hearing that had witnesses, um, a fine Sheriff Jenkins from Frederick County, Maryland, who has been enforcing immigration law, standing up for the rule of law. He's been prudently using the legal and justifiable, uh, evidence that he had before him, and he's been criticized for his effectiveness by the people that don't want to enforce the law.\",\n          \"confidence\": 0.8,\n          \"context_type\": \"framing of opposition as a threat to law and order\"\n        },\n        {\n          \"dimension\": \"fear\",\n          \"quote_text\": \"Well, Mr. Speaker, it was another day in, in the life of America and Americans. It's another life loss to an, an illegal criminal alien who was unlawfully present in America, who had no business to be here, one who had been encountered by law enforcement officers in the past, one whom I believe ICE declined, uh, to pick up and place into removal proceedings. This happens every day in this country. It happens hundreds of times in this country each year. These incidents of illegal aliens that are, that are arrested and turned loose on the street because the President has this idea of prioritization or prosecutorial discretion is costing lives in America. And it's costing, it's costing in the end thousands of lives in America.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"emotional appeal, connecting policy to tragic deaths, creating a sense of widespread danger\"\n        },\n        {\n          \"dimension\": \"hope\",\n          \"quote_text\": \"Lord, wake me up with an idea on how to, how to preserve our Constitution.\",\n          \"confidence\": 0.7,\n          \"context_type\": \"prayer for guidance to prevent further deterioration, rather than progressive vision\"\n        },\n        {\n          \"dimension\": \"envy\",\n          \"quote_text\": \"\",\n          \"confidence\": 0.0,\n          \"context_type\": \"not applicable\"\n        },\n        {\n          \"dimension\": \"compassion\",\n          \"quote_text\": \"The sad, sad story told by Laura Wilkerson yesterday that she has the courage and the heart to come here and share her story with us and to place that awful, brutal, ghastly memory again into her mind's eye and pour that forth into the Congressional Record so that some of us, some of us will soak that up and be mobilized to do something, something more to resist the President's policy of amnesty, de facto amnesty, amnesty by executive edict, that has been part and parcel of the Obama policy since the beginning of his time here in office.\",\n          \"confidence\": 0.7,\n          \"context_type\": \"expression of empathy for suffering, framed within a larger adversarial narrative against policy\"\n        },\n        {\n          \"dimension\": \"enmity\",\n          \"quote_text\": \"We have a lame duck President who has made appointments to the Supreme Court who seem to believe that the Constitution means what they want it to mean and they want to read it uh to say what they want it to say rather than what it actually says and rather than what it actually was understood to mean at the time of its ratification.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"accusation and strong negative framing of political opponents\"\n        },\n        {\n          \"dimension\": \"enmity\",\n          \"quote_text\": \"They manufactured a command. There's no right in the Constitution for a same-sex marriage. There's no reference in there at all. There's not one single Founding Father that would have ever accepted an idea that they had, they had founded a nation and embodied within our declaration or our ratified Constitution or the subsequent amendments that there was some right, let alone a command, same-sex marriage. It's a complete manufactured, not just a right, but a command by the Supreme Court of the United States.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"strong condemnation of judicial overreach and manufactured rights\"\n        },\n        {\n          \"dimension\": \"enmity\",\n          \"quote_text\": \"I thank God for Laura Wilkerson and I ask God to bless the life and the memory and the soul of Joshua Wilkerson who has paid a tremendously high price because we have an ideological president who, I'd say to the other side of the aisle, who's not doing his job. In fact, he's ordering law enforcement officers not to do their job.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"direct accusation and blame against the President and 'the other side of the aisle'\"\n        },\n        {\n          \"dimension\": \"amity\",\n          \"quote_text\": \"\",\n          \"confidence\": 0.0,\n          \"context_type\": \"not applicable\"\n        },\n        {\n          \"dimension\": \"fragmentative_goals\",\n          \"quote_text\": \"The Constitution that's got to be restored. And instead of being restored, it would be destroyed by another presidential appointment.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"goal to dismantle current judicial interpretations, framing a destructive outcome if not stopped\"\n        },\n        {\n          \"dimension\": \"fragmentative_goals\",\n          \"quote_text\": \"If a court wants to manufacture a new right, let alone a new command, that's wrong. And this Congress ought to speak up and we need a president that will appoint justices to the Supreme Court that will rule on the text of the Constitution, its original meaning, and on the understanding of what the text of that Constitution says.\",\n          \"confidence\": 0.8,\n          \"context_type\": \"goal to prevent judicial 'manufacturing' and enforce strict textual interpretation, implying dismantling current legal frameworks\"\n        },\n        {\n          \"dimension\": \"fragmentative_goals\",\n          \"quote_text\": \"And I don't want to see any more bail to criminal aliens. I want to see law enforcement. And I want an expectation that when the law is broken in the United States, that there's going to be an enforcement, that it'll be applied equally without regard to any of these categories that the President encourages us to be members of.\",\n          \"confidence\": 0.8,\n          \"context_type\": \"call for strict enforcement leading to removal/fragmentation of 'criminal aliens' from society\"\n        },\n        {\n          \"dimension\": \"cohesive_goals\",\n          \"quote_text\": \"\",\n          \"confidence\": 0.0,\n          \"context_type\": \"not applicable\"\n        }\n      ]\n    }\n  ]\n}\n<<<END_DISCERNUS_ANALYSIS_JSON_v6>>>",
          "evidence_hash": "fe9679df1f8266a822e51c88752b018ea9e684dc265e641d43a28e76154929d4",
          "execution_metadata": {
            "start_time": "2025-08-29T15:37:29.628560+00:00",
            "end_time": "2025-08-29T15:37:53.762742+00:00",
            "duration_seconds": 24.134144
          },
          "input_artifacts": {
            "framework_hash": "77e927d6773a3131ec6b0fa5ef666cbcd957859357ebe6ae80efaeb7be557b12",
            "document_hashes": [
              "738780d93cc3c43b7b2e292a7fd0aa9f7e438f7ad2555be4ce6bfc20d9efda82"
            ],
            "num_documents": 1
          },
          "provenance": {
            "security_boundary": {
              "experiment_name": "simple_test_cff",
              "experiment_root": "/Volumes/code/discernus/projects/simple_test_cff",
              "boundary_type": "filesystem",
              "security_level": "experiment_scoped"
            },
            "audit_session_id": "20250829T153704Z_cc97a3be"
          }
        }
      },
      {
        "analysis_id": "analysis_dcc16de9a2ae",
        "result_hash": "35c39981a85d62c353cc4ef8587c8843a539e59137cc72d84cb0d4528e743f98",
        "duration_seconds": 136.029862,
        "result_content": {
          "analysis_id": "analysis_dcc16de9a2ae",
          "agent_name": "EnhancedAnalysisAgent",
          "agent_version": "enhanced_v2.1_raw_output",
          "experiment_name": "simple_test",
          "model_used": "vertex_ai/gemini-2.5-flash",
          "raw_analysis_response": "<<<DISCERNUS_ANALYSIS_JSON_v6>>>\n{\n  \"analysis_metadata\": {\n    \"framework_name\": \"cohesive_flourishing_framework\",\n    \"framework_version\": \"10.2\",\n    \"analyst_confidence\": 0.95,\n    \"analysis_notes\": \"The provided base64 encoded document contained garbled text. Analysis was performed using the clean, non-encoded text content provided in the prompt's document section for accuracy.\"\n  },\n  \"document_analyses\": [\n    {\n      \"document_id\": \"{artifact_id}\",\n      \"document_name\": \"bernie_sanders_2025_fighting_oligarchy.txt\",\n      \"dimensional_scores\": {\n        \"Tribal Dominance\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 0.95\n        },\n        \"Individual Dignity\": {\n          \"raw_score\": 0.1,\n          \"salience\": 0.1,\n          \"confidence\": 0.85\n        },\n        \"Fear\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.8,\n          \"confidence\": 0.95\n        },\n        \"Hope\": {\n          \"raw_score\": 0.6,\n          \"salience\": 0.4,\n          \"confidence\": 0.9\n        },\n        \"Envy\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.8,\n          \"confidence\": 0.95\n        },\n        \"Compassion\": {\n          \"raw_score\": 0.1,\n          \"salience\": 0.1,\n          \"confidence\": 0.85\n        },\n        \"Enmity\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 0.95\n        },\n        \"Amity\": {\n          \"raw_score\": 0.1,\n          \"salience\": 0.1,\n          \"confidence\": 0.85\n        },\n        \"Fragmentative Goals\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.8,\n          \"confidence\": 0.95\n        },\n        \"Cohesive Goals\": {\n          \"raw_score\": 0.3,\n          \"salience\": 0.3,\n          \"confidence\": 0.9\n        }\n      },\n      \"evidence\": [\n        {\n          \"dimension\": \"Tribal Dominance\",\n          \"quote_text\": \"The American people are outraged at what's going on, and the American people are saying loud and clear, \\\"We will not accept an oligarchic form of society. We will not accept the richest guy in the world running all over Washington, making cuts to the Social Security Administration, cuts to the Veterans Administration, almost destroying the Department of Education, all so that they could give over a trillion dollars in tax breaks to the wealthiest 1%.\\\"\",\n          \"confidence\": 0.95,\n          \"context_type\": \"us versus them rhetoric\"\n        },\n        {\n          \"dimension\": \"Individual Dignity\",\n          \"quote_text\": \"\",\n          \"confidence\": 0.0,\n          \"context_type\": \"not applicable\"\n        },\n        {\n          \"dimension\": \"Fear\",\n          \"quote_text\": \"The American people are outraged at what's going on... the worst and most dangerous addiction we have is the greed of the oligarchs... They are prepared to destroy Social Security, Medicaid, Medicare, the Veterans Administration in order to make themselves even richer.\",\n          \"confidence\": 0.95,\n          \"context_type\": \"threat and crisis framing\"\n        },\n        {\n          \"dimension\": \"Hope\",\n          \"quote_text\": \"That is what a rigged economy is about, and that is what we are going to change... So if we stand together, are strong, are disciplined, are smart, I have every reason to believe deeply in my heart that not only will we defeat Trumpism, but we can create the kind of nation that we deserve.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"call to action and optimistic vision\"\n        },\n        {\n          \"dimension\": \"Envy\",\n          \"quote_text\": \"We will not accept the richest guy in the world running all over Washington... Meanwhile, there has been a $75 trillion transfer of wealth from the bottom 90% to the top 1%.\",\n          \"confidence\": 0.95,\n          \"context_type\": \"resentment over unequal distribution of wealth\"\n        },\n        {\n          \"dimension\": \"Compassion\",\n          \"quote_text\": \"\",\n          \"confidence\": 0.0,\n          \"context_type\": \"not applicable\"\n        },\n        {\n          \"dimension\": \"Enmity\",\n          \"quote_text\": \"These guys... they are not nice guys... The rich want to get richer and they don't care who they step on.\",\n          \"confidence\": 0.95,\n          \"context_type\": \"adversarial positioning and moral condemnation\"\n        },\n        {\n          \"dimension\": \"Amity\",\n          \"quote_text\": \"\",\n          \"confidence\": 0.0,\n          \"context_type\": \"not applicable\"\n        },\n        {\n          \"dimension\": \"Fragmentative Goals\",\n          \"quote_text\": \"They are prepared to destroy Social Security, Medicaid, Medicare, the Veterans Administration... That is what a rigged economy is about, and that is what we are going to change.\",\n          \"confidence\": 0.95,\n          \"context_type\": \"disruptive and zero-sum objectives\"\n        },\n        {\n          \"dimension\": \"Cohesive Goals\",\n          \"quote_text\": \"So if we stand together, are strong, are disciplined, are smart, I have every reason to believe deeply in my heart that not only will we defeat Trumpism, but we can create the kind of nation that we deserve.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"internal group unity for an adversarial purpose\"\n        }\n      ]\n    }\n  ]\n}\n<<<END_DISCERNUS_ANALYSIS_JSON_v6>>>",
          "evidence_hash": "ef5fef5a0f7abb574b0dbfc04699183ce71ba1988ff1724c04375cdb2b2a3372",
          "execution_metadata": {
            "start_time": "2025-08-29T15:37:53.764589+00:00",
            "end_time": "2025-08-29T15:40:09.794462+00:00",
            "duration_seconds": 136.029862
          },
          "input_artifacts": {
            "framework_hash": "77e927d6773a3131ec6b0fa5ef666cbcd957859357ebe6ae80efaeb7be557b12",
            "document_hashes": [
              "261b893a384411f76907e78e7997860cd9be5d959334a6b9ae1386ea1ba6cbdd"
            ],
            "num_documents": 1
          },
          "provenance": {
            "security_boundary": {
              "experiment_name": "simple_test_cff",
              "experiment_root": "/Volumes/code/discernus/projects/simple_test_cff",
              "boundary_type": "filesystem",
              "security_level": "experiment_scoped"
            },
            "audit_session_id": "20250829T153704Z_cc97a3be"
          }
        }
      },
      {
        "analysis_id": "analysis_c61b5bb2e7f8",
        "result_hash": "580b057c4abd180104e8460c158a00fc92fe35518423ea81387b2f9f6a02ad69",
        "duration_seconds": 102.593397,
        "result_content": {
          "analysis_id": "analysis_c61b5bb2e7f8",
          "agent_name": "EnhancedAnalysisAgent",
          "agent_version": "enhanced_v2.1_raw_output",
          "experiment_name": "simple_test",
          "model_used": "vertex_ai/gemini-2.5-flash",
          "raw_analysis_response": "<<<DISCERNUS_ANALYSIS_JSON_v6>>>\n{\n  \"analysis_metadata\": {\n    \"framework_name\": \"cohesive_flourishing_framework\",\n    \"framework_version\": \"10.2\",\n    \"analyst_confidence\": 0.95,\n    \"analysis_notes\": \"Analysis focuses on explicit rhetorical strategies and framing within the speech, particularly the strong 'us vs. them' dynamic contrasting the working class with an 'oligarchy' and the call for internal unity.\"\n  },\n  \"document_analyses\": [\n    {\n      \"document_id\": \"{artifact_id}\",\n      \"document_name\": \"alexandria_ocasio_cortez_2025_fighting_oligarchy.txt\",\n      \"dimensional_scores\": {\n        \"tribal_dominance\": {\n          \"raw_score\": 0.75,\n          \"salience\": 0.8,\n          \"confidence\": 0.9\n        },\n        \"individual_dignity\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 0.95\n        },\n        \"fear\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.75,\n          \"confidence\": 0.9\n        },\n        \"hope\": {\n          \"raw_score\": 0.7,\n          \"salience\": 0.7,\n          \"confidence\": 0.85\n        },\n        \"envy\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.85,\n          \"confidence\": 0.9\n        },\n        \"compassion\": {\n          \"raw_score\": 0.4,\n          \"salience\": 0.35,\n          \"confidence\": 0.75\n        },\n        \"enmity\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 0.95\n        },\n        \"amity\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 0.95\n        },\n        \"fragmentative_goals\": {\n          \"raw_score\": 0.85,\n          \"salience\": 0.8,\n          \"confidence\": 0.9\n        },\n        \"cohesive_goals\": {\n          \"raw_score\": 0.85,\n          \"salience\": 0.85,\n          \"confidence\": 0.9\n        }\n      },\n      \"evidence\": [\n        {\n          \"dimension\": \"tribal_dominance\",\n          \"quote_text\": \"We are witnessing an oligarchy in America. And that is when those with the most economic, political, and technological power destroy the public good to enrich themselves while millions of Americans pay the price.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"problem framing\"\n        },\n        {\n          \"dimension\": \"individual_dignity\",\n          \"quote_text\": \"Our lives deserve dignity and our work deserves respect. If you are willing to fight for someone you don't know, you are welcome here. You do. Honestly, no matter who you voted for in the past. No matter if you know all the right words to say, no matter your race, religion, gender identity, or status, no matter if you disagree with me on a couple of things.\",\n          \"confidence\": 0.95,\n          \"context_type\": \"universal appeal\"\n        },\n        {\n          \"dimension\": \"fear\",\n          \"quote_text\": \"We are witnessing an oligarchy in America. And that is when those with the most economic, political, and technological power destroy the public good to enrich themselves while millions of Americans pay the price.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"threat assessment\"\n        },\n        {\n          \"dimension\": \"hope\",\n          \"quote_text\": \"But we're smarter than that Greeley. We know better than that. We need to come together and spend every day between now and election day working to educate our neighbors, and give Evans and Boebert the boot, and replace them with a brawling Democrat who will stand for Colorado.\",\n          \"confidence\": 0.85,\n          \"context_type\": \"call to action\"\n        },\n        {\n          \"dimension\": \"envy\",\n          \"quote_text\": \"These kinds of spoils aren't earned really. They aren't working for these billions. They're stealing them. They're stealing them from you and you and me.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"economic critique\"\n        },\n        {\n          \"dimension\": \"compassion\",\n          \"quote_text\": \"I lost my dad to cancer as a kid and had to see my mom open hospital bills in the days after. And I don't want us to live like this anymore, Greeley.\",\n          \"confidence\": 0.75,\n          \"context_type\": \"personal anecdote\"\n        },\n        {\n          \"dimension\": \"enmity\",\n          \"quote_text\": \"The same billionaires are taking a wrecking ball to our country and they derive their power from dividing working people apart.\",\n          \"confidence\": 0.95,\n          \"context_type\": \"adversary identification\"\n        },\n        {\n          \"dimension\": \"amity\",\n          \"quote_text\": \"Because in this house, we stand together, we know that, that it's our only choice because we know that without exception, if we stand together, it is the only way that we can win.\",\n          \"confidence\": 0.95,\n          \"context_type\": \"unity appeal\"\n        },\n        {\n          \"dimension\": \"fragmentative_goals\",\n          \"quote_text\": \"they'll throw out every label and judgment and cultural debate in the book to keep us distracted because the last thing they want us to realize is that the division that is actually hurting our country the most is how endless greed is costing the lives of everyone else.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"adversary's agenda\"\n        },\n        {\n          \"dimension\": \"cohesive_goals\",\n          \"quote_text\": \"This movement is not about partisan labels or purity tests, but about class solidarity.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"movement objective\"\n        }\n      ]\n    }\n  ]\n}\n<<<END_DISCERNUS_ANALYSIS_JSON_v6>>>",
          "evidence_hash": "357088556afb51a1386d49759e8ab25ec97a17255f706e0db031d12cfe3e3295",
          "execution_metadata": {
            "start_time": "2025-08-29T15:40:09.795365+00:00",
            "end_time": "2025-08-29T15:41:52.388768+00:00",
            "duration_seconds": 102.593397
          },
          "input_artifacts": {
            "framework_hash": "77e927d6773a3131ec6b0fa5ef666cbcd957859357ebe6ae80efaeb7be557b12",
            "document_hashes": [
              "1121e4ae679ce6e6c08c6d2d9aa4ce0c6e5040e8b13405fcfd9ea725b8ad5ff6"
            ],
            "num_documents": 1
          },
          "provenance": {
            "security_boundary": {
              "experiment_name": "simple_test_cff",
              "experiment_root": "/Volumes/code/discernus/projects/simple_test_cff",
              "boundary_type": "filesystem",
              "security_level": "experiment_scoped"
            },
            "audit_session_id": "20250829T153704Z_cc97a3be"
          }
        }
      }
    ],
    "columns_added": []
  },
  "status": "success_with_data",
  "validation_passed": true
}