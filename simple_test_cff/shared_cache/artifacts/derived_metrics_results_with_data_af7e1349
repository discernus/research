{
  "generation_metadata": {
    "status": "success",
    "functions_generated": 6,
    "output_file": "automatedderivedmetricsagent_functions.py",
    "module_size": 12338,
    "function_code_content": "\"\"\"\nAutomated Derived Metrics Functions\n===================================\n\nGenerated by AutomatedDerivedMetricsAgent for experiment: Test Experiment\nDescription: Test experiment for derived metrics\nGenerated: 2025-08-25T03:50:55.986419+00:00\n\nThis module contains automatically generated calculation functions for derived metrics\nas specified in the framework's natural language descriptions.\n\"\"\"\n\nimport pandas as pd\nimport numpy as np\nfrom typing import Optional, Dict, Any\n\n\ndef calculate_identity_tension(data, **kwargs):\n    \"\"\"\n    Calculate identity_tension: Conflict between tribal dominance and individual dignity dimensions.\n\n    This metric is highest when both tribal dominance and individual dignity are simultaneously high,\n    indicating a direct rhetorical conflict. The calculation measures the degree of this co-occurrence,\n    reflecting the CFF's principle of analyzing competing appeals.\n\n    Formula:\n    (tribal_dominance + individual_dignity) - abs(tribal_dominance - individual_dignity)\n    This is equivalent to: 2 * min(tribal_dominance, individual_dignity)\n\n    Args:\n        data (pd.Series):\n            A row of data with dimension scores.\n            Required columns are inferred from the description as 'tribal_dominance' and 'individual_dignity'.\n        **kwargs:\n            Additional parameters (not used in this calculation).\n\n    Returns:\n        float: Calculated result or None if insufficient data or required columns are missing.\n    \"\"\"\n    import pandas as pd\n    import numpy as np\n\n    try:\n        # Column names are inferred from the calculation's description as no explicit names were provided.\n        tribal_score = data['tribal_dominance']\n        dignity_score = data['individual_dignity']\n\n        if pd.isna(tribal_score) or pd.isna(dignity_score):\n            return None\n\n        # The formula (a + b) - abs(a - b) is a robust way to calculate 2 * min(a, b).\n        # It measures the \"intersection\" or simultaneous presence of both dimensions.\n        # Tension is high only when both scores are high.\n        tension = (tribal_score + dignity_score) - np.abs(tribal_score - dignity_score)\n\n        return float(tension)\n\n    except (KeyError, TypeError, AttributeError):\n        # Handles missing columns, incorrect data types, or other access errors.\n        return None\n    except Exception:\n        # A general catch-all for any other unexpected errors.\n        return None\n\ndef calculate_emotional_balance(data, **kwargs):\n    \"\"\"\n    Calculate emotional_balance: Difference between hope and fear scores\n    Formula: emotional_balance = hope - fear\n\n    Args:\n        data (pd.Series): A single row of data from a pandas DataFrame.\n        **kwargs: Additional parameters (unused).\n\n    Returns:\n        float: Calculated result or None if insufficient data.\n    \"\"\"\n    import pandas as pd\n    import numpy as np\n\n    try:\n        # The calculation is based on 'hope' and 'fear' scores, which are the\n        # most logical column names derived from the description.\n        hope_score = data['hope']\n        fear_score = data['fear']\n\n        # Handle missing data gracefully by checking if either score is null/NaN.\n        if pd.isna(hope_score) or pd.isna(fear_score):\n            return None\n\n        # Calculate the difference and ensure the output is a standard float.\n        result = float(hope_score - fear_score)\n        return result\n\n    except Exception:\n        # A broad exception catch handles potential KeyErrors (missing columns),\n        # TypeErrors (non-numeric data), or other unexpected issues.\n        return None\n\ndef calculate_success_climate(data, **kwargs):\n    \"\"\"\n    Calculate success_climate: Difference between compersion and envy scores\n    \n    Formula: success_climate = compersion - envy\n    \n    Args:\n        data (pd.Series or pd.DataFrame): A single row of data containing the required columns.\n        **kwargs: Additional parameters (unused).\n        \n    Returns:\n        float: Calculated result or None if insufficient data.\n    \"\"\"\n    import pandas as pd\n    \n    try:\n        compersion_score = data['compersion']\n        envy_score = data['envy']\n        \n        # Check for missing values (None, NaN, etc.)\n        if pd.isna(compersion_score) or pd.isna(envy_score):\n            return None\n            \n        # Ensure scores are numeric before calculation\n        result = float(compersion_score) - float(envy_score)\n        return result\n        \n    except (KeyError, TypeError, ValueError):\n        # KeyError: If 'compersion' or 'envy' columns are missing.\n        # TypeError: If data is not in a format that supports item access (e.g., not a Series/dict).\n        # ValueError: If scores cannot be converted to float.\n        return None\n\ndef calculate_relational_climate(data, **kwargs):\n    \"\"\"\n    Calculate relational_climate: Difference between amity and enmity scores.\n\n    Formula: relational_climate = amity - enmity\n\n    Args:\n        data (pd.Series or dict): A single row of data containing the necessary columns.\n        **kwargs: Additional keyword arguments (unused in this calculation).\n\n    Returns:\n        float: The calculated relational climate score, or None if the necessary\n               data ('amity', 'enmity') is missing or non-numeric.\n    \"\"\"\n    import pandas as pd\n    import numpy as np\n\n    try:\n        # Accessor for both Series and dictionary-like objects\n        amity_score = data.get('amity')\n        enmity_score = data.get('enmity')\n\n        # Check for missing columns or non-numeric data\n        if pd.isnull(amity_score) or pd.isnull(enmity_score):\n            return None\n        \n        # Ensure values are numeric before calculation\n        if not isinstance(amity_score, (int, float, np.number)) or not isinstance(enmity_score, (int, float, np.number)):\n            return None\n\n        # Calculate the difference\n        relational_climate = float(amity_score) - float(enmity_score)\n        \n        return relational_climate\n\n    except (TypeError, KeyError, AttributeError):\n        # Catch potential errors if data is not in the expected format\n        return None\n    except Exception:\n        # A general catch-all for any other unexpected errors\n        return None\n\ndef calculate_goal_orientation(data, **kwargs):\n    \"\"\"\n    Calculate goal_orientation: Difference between cohesive goals and fragmentative goals\n\n    Formula: goal_orientation = cohesive_goals - fragmentative_goals\n\n    Args:\n        data (pd.Series): A row of data containing the necessary columns.\n        **kwargs: Additional keyword arguments (not used).\n\n    Returns:\n        float: The calculated score, or None if data is missing or invalid.\n    \"\"\"\n    import pandas as pd\n\n    try:\n        # Based on the calculation description, the required columns are inferred.\n        cohesive_col = 'cohesive_goals'\n        fragmentative_col = 'fragmentative_goals'\n\n        cohesive_score = data[cohesive_col]\n        fragmentative_score = data[fragmentative_col]\n\n        # Attempt to convert scores to float. This will raise a ValueError\n        # for non-numeric types, which is caught below.\n        # The subtraction itself will result in NaN if either input is NaN.\n        result = float(cohesive_score) - float(fragmentative_score)\n\n        # Check if the result is NaN (due to missing inputs) and return None if so.\n        # Otherwise, return the calculated float result.\n        return None if pd.isna(result) else result\n\n    except (KeyError, TypeError, ValueError):\n        # This handles several failure cases gracefully:\n        # KeyError: If the required columns do not exist in the data.\n        # TypeError/ValueError: If the data in the columns is not numeric.\n        return None\n    except Exception:\n        # A general catch-all for any other unexpected errors.\n        return None\n\ndef calculate_overall_cohesion_index(data, **kwargs):\n    \"\"\"\n    Calculate overall_cohesion_index: Comprehensive measure combining all dimensions.\n\n    This index provides a holistic score of a text's contribution to social cohesion by\n    averaging the primary dimensional indices of the Cohesive Flourishing Framework.\n    It synthesizes measures of constructive dialogue, social fabric, and democratic\n    health into a single, high-level metric.\n\n    Formula:\n    mean(constructive_discourse_index, social_fabric_index, democratic_health_index)\n\n    Args:\n        data (pd.Series or pd.DataFrame): A single row of analysis data\n            containing the required component indices.\n        **kwargs: Not used.\n\n    Returns:\n        float: The calculated overall cohesion index, or None if any of the\n               required component indices are missing or null.\n    \"\"\"\n    import pandas as pd\n    import numpy as np\n\n    try:\n        # Ensure data is a single Series for consistent processing\n        if isinstance(data, pd.DataFrame):\n            if len(data) != 1:\n                # This function is designed to operate on a single row/document\n                return None\n            series = data.iloc[0]\n        elif isinstance(data, pd.Series):\n            series = data\n        else:\n            # Input is not in a recognizable pandas format\n            return None\n\n        # As per the framework description, the overall index aggregates key sub-indices.\n        # These names are chosen as logical representations of the framework's goals.\n        required_columns = [\n            'constructive_discourse_index',\n            'social_fabric_index',\n            'democratic_health_index'\n        ]\n\n        # Check for the presence of all necessary columns\n        if not all(col in series.index for col in required_columns):\n            return None\n\n        # Extract values for the component indices\n        component_values = [series[col] for col in required_columns]\n\n        # If any component value is null, the overall index cannot be calculated\n        if any(pd.isnull(value) for value in component_values):\n            return None\n\n        # Calculate the mean of the component indices\n        overall_index = np.mean(component_values)\n\n        return float(overall_index)\n\n    except (AttributeError, KeyError, TypeError, IndexError):\n        # Catch errors related to missing columns, incorrect data types, or empty data\n        return None\n    except Exception:\n        # Catch any other unexpected errors\n        return None\n\ndef calculate_all_derived_metrics(data: pd.DataFrame) -> Dict[str, Optional[float]]:\n    \"\"\"\n    Calculate all derived metrics for the given dataset.\n    \n    Args:\n        data: pandas DataFrame with dimension scores\n        \n    Returns:\n        Dictionary mapping metric names to calculated values\n    \"\"\"\n    results = {}\n    \n    # Get all calculation functions from this module\n    import inspect\n    current_module = inspect.getmodule(inspect.currentframe())\n    \n    for name, obj in inspect.getmembers(current_module):\n        if (inspect.isfunction(obj) and \n            name.startswith('calculate_') and \n            name not in ['calculate_all_derived_metrics', 'calculate_derived_metrics']):\n            try:\n                results[name.replace('calculate_', '')] = obj(data)\n            except Exception as e:\n                results[name.replace('calculate_', '')] = None\n                \n    return results\n\n\ndef calculate_derived_metrics(data: pd.DataFrame) -> pd.DataFrame:\n    \"\"\"\n    Template-compatible wrapper function for derived metrics calculation.\n    \n    This function is called by the universal notebook template and returns\n    the original data with additional derived metric columns.\n    \n    Args:\n        data: pandas DataFrame with dimension scores\n        \n    Returns:\n        DataFrame with original data plus derived metric columns\n    \"\"\"\n    # Calculate all derived metrics\n    derived_metrics = calculate_all_derived_metrics(data)\n    \n    # Create a copy of the original data\n    result = data.copy()\n    \n    # Add derived metrics as new columns\n    for metric_name, metric_value in derived_metrics.items():\n        if metric_value is not None:\n            # For scalar metrics, broadcast to all rows\n            result[metric_name] = metric_value\n        else:\n            # For failed calculations, use NaN\n            result[metric_name] = np.nan\n    \n    return result\n",
    "cached_with_code": true
  },
  "derived_metrics_data": {
    "status": "success",
    "original_count": 4,
    "derived_count": 4,
    "derived_metrics": [
      {
        "analysis_id": "analysis_017bbf336a45",
        "result_hash": "55b75e5e52c26df1fc48835204b40a9c662e1cb2d41e9eaa0ff360ce17e2fda8",
        "result_content": {
          "analysis_id": "analysis_017bbf336a45",
          "agent_name": "EnhancedAnalysisAgent",
          "agent_version": "enhanced_v2.1_raw_output",
          "experiment_name": "simple_test",
          "model_used": "vertex_ai/gemini-2.5-pro",
          "raw_analysis_response": "<<<DISCERNUS_ANALYSIS_JSON_v6>>>\n{\n  \"analysis_metadata\": {\n    \"framework_name\": \"cohesive_flourishing_framework\",\n    \"framework_version\": \"10.2\",\n    \"analyst_confidence\": 0.95,\n    \"analysis_notes\": \"The document is a classic political concession speech, characterized by graciousness towards the victor and calls for national unity. This leads to high scores in the cohesive dimensions (Individual Dignity, Hope, Compersion, Amity, Cohesive Goals) and near-zero scores in the fragmentative dimensions (Tribal Dominance, Fear, Envy, Enmity, Fragmentative Goals). The rhetoric is explicit and not difficult to interpret.\"\n  },\n  \"document_analyses\": [\n    {\n      \"document_id\": \"{artifact_id}\",\n      \"document_name\": \"john_mccain_2008_concession.txt\",\n      \"dimensional_scores\": {\n        \"tribal_dominance\": {\n          \"raw_score\": 0.0,\n          \"salience\": 0.0,\n          \"confidence\": 1.0\n        },\n        \"individual_dignity\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.9,\n          \"confidence\": 0.95\n        },\n        \"fear\": {\n          \"raw_score\": 0.1,\n          \"salience\": 0.1,\n          \"confidence\": 0.9\n        },\n        \"hope\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.8,\n          \"confidence\": 0.95\n        },\n        \"envy\": {\n          \"raw_score\": 0.0,\n          \"salience\": 0.0,\n          \"confidence\": 1.0\n        },\n        \"compersion\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 1.0\n        },\n        \"enmity\": {\n          \"raw_score\": 0.0,\n          \"salience\": 0.0,\n          \"confidence\": 1.0\n        },\n        \"amity\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 1.0\n        },\n        \"fragmentative_goals\": {\n          \"raw_score\": 0.0,\n          \"salience\": 0.0,\n          \"confidence\": 1.0\n        },\n        \"cohesive_goals\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 1.0\n        }\n      },\n      \"evidence\": [\n        {\n          \"dimension\": \"tribal_dominance\",\n          \"quote_text\": \"\",\n          \"confidence\": 1.0,\n          \"context_type\": \"Absence of evidence. The speech actively counters this dimension by emphasizing shared national identity over partisan divides.\"\n        },\n        {\n          \"dimension\": \"individual_dignity\",\n          \"quote_text\": \"This is an historic election, and I recognize the special significance it has for African-Americans and for the special pride that must be theirs tonight.\",\n          \"confidence\": 1.0,\n          \"context_type\": \"Explicit recognition of overcoming historical injustice and affirming the citizenship and inclusion of a group within the national fabric.\"\n        },\n        {\n          \"dimension\": \"fear\",\n          \"quote_text\": \"These are difficult times for our country, and I pledge to him tonight to do all in my power to help him lead us through the many challenges we face.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"Acknowledgement of national challenges ('difficult times'), which contains a hint of concern, but immediately pivots to a constructive, non-fear-based response.\"\n        },\n        {\n          \"dimension\": \"hope\",\n          \"quote_text\": \"We never surrender. We never hide from history. We make history.\",\n          \"confidence\": 1.0,\n          \"context_type\": \"The speech's concluding inspirational statement, framing American identity around progress and resilience.\"\n        },\n        {\n          \"dimension\": \"envy\",\n          \"quote_text\": \"\",\n          \"confidence\": 1.0,\n          \"context_type\": \"Absence of evidence. The speech is a model of gracious concession, explicitly admiring and commending the opponent's success.\"\n        },\n        {\n          \"dimension\": \"compersion\",\n          \"quote_text\": \"But that he managed to do so by inspiring the hopes of so many millions of Americans... is something I deeply admire and commend him for achieving.\",\n          \"confidence\": 1.0,\n          \"context_type\": \"Direct and explicit expression of admiration for the opponent's achievement, celebrating it as a positive outcome for the nation.\"\n        },\n        {\n          \"dimension\": \"enmity\",\n          \"quote_text\": \"\",\n          \"confidence\": 1.0,\n          \"context_type\": \"Absence of evidence. The speaker refers to his opponent as 'my president' and pledges cooperation, directly countering any sense of hostility.\"\n        },\n        {\n          \"dimension\": \"amity\",\n          \"quote_text\": \"Whatever our differences, we are fellow Americans, and please believe me when I say no association has ever meant more to me than that.\",\n          \"confidence\": 1.0,\n          \"context_type\": \"An explicit appeal to a shared, friendly identity ('fellow Americans') that transcends political disagreement.\"\n        },\n        {\n          \"dimension\": \"fragmentative_goals\",\n          \"quote_text\": \"\",\n          \"confidence\": 1.0,\n          \"context_type\": \"Absence of evidence. The entire thrust of the speech is toward unity and bridging divides, the opposite of fragmentation.\"\n        },\n        {\n          \"dimension\": \"cohesive_goals\",\n          \"quote_text\": \"I urge all Americans who supported me to join me in not just congratulating him, but offering our next president our good will and earnest effort to find ways to come together, to find the necessary compromises to bridge our differences...\",\n          \"confidence\": 1.0,\n          \"context_type\": \"A direct call to action for his own supporters to engage in integrative, positive-sum actions aimed at national unity and problem-solving.\"\n        }\n      ]\n    }\n  ]\n}\n<<<END_DISCERNUS_ANALYSIS_JSON_v6>>>",
          "evidence_hash": "6ac05e2526e739334c11ef0da8eefe1fe67ebb1af2972cff31c0c92f84d78863",
          "execution_metadata": {
            "start_time": "2025-08-25T03:45:13.575492+00:00",
            "end_time": "2025-08-25T03:46:04.358302+00:00",
            "duration_seconds": 50.782773
          },
          "input_artifacts": {
            "framework_hash": "aeaf6a196101d31208abb7400b7ca59b1cc0a25d2213f1ab236199a682797225",
            "document_hashes": [
              "ff9b26f20ad6dfa10cbf8ce4b7353fddab5e7cce5879e6b4603b8af60d0a9e35"
            ],
            "num_documents": 1
          },
          "provenance": {
            "security_boundary": {
              "experiment_name": "simple_test_cff",
              "experiment_root": "/Volumes/code/discernus/projects/simple_test_cff",
              "boundary_type": "filesystem",
              "security_level": "experiment_scoped"
            },
            "audit_session_id": "20250825T034437Z_847b04e6"
          }
        },
        "cached": true
      },
      {
        "analysis_id": "analysis_b610dc19a06a",
        "result_hash": "ed1c6af342d58670e35434b83408d324f1706d8b481aa097057115081f65e7b6",
        "result_content": {
          "analysis_id": "analysis_b610dc19a06a",
          "agent_name": "EnhancedAnalysisAgent",
          "agent_version": "enhanced_v2.1_raw_output",
          "experiment_name": "simple_test",
          "model_used": "vertex_ai/gemini-2.5-pro",
          "raw_analysis_response": "```\n<<<DISCERNUS_ANALYSIS_JSON_v6>>>\n{\n  \"analysis_metadata\": {\n    \"framework_name\": \"cohesive_flourishing_framework\",\n    \"framework_version\": \"10.2\",\n    \"analyst_confidence\": 0.95,\n    \"analysis_notes\": \"The document is a highly partisan and emotional political speech. The speaker's rhetoric is consistently built on an 'us vs. them' framework, primarily contrasting law-abiding Americans with a 'lame duck' president and 'criminal aliens.' The analysis focuses on the clear and repeated rhetorical patterns that strongly align with dimensions of fear, enmity, and tribal dominance, while noting the almost complete absence of their positive counterparts.\"\n  },\n  \"document_analyses\": [\n    {\n      \"document_id\": \"{artifact_id}\",\n      \"document_name\": \"steve_king_2017_house_floor.txt\",\n      \"dimensional_scores\": {\n        \"tribal_dominance\": {\n          \"raw_score\": 0.85,\n          \"salience\": 0.9,\n          \"confidence\": 1.0\n        },\n        \"individual_dignity\": {\n          \"raw_score\": 0.1,\n          \"salience\": 0.1,\n          \"confidence\": 0.9\n        },\n        \"fear\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 1.0\n        },\n        \"hope\": {\n          \"raw_score\": 0.1,\n          \"salience\": 0.1,\n          \"confidence\": 0.9\n        },\n        \"envy\": {\n          \"raw_score\": 0.7,\n          \"salience\": 0.7,\n          \"confidence\": 0.95\n        },\n        \"compersion\": {\n          \"raw_score\": 0.0,\n          \"salience\": 0.0,\n          \"confidence\": 1.0\n        },\n        \"enmity\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.85,\n          \"confidence\": 1.0\n        },\n        \"amity\": {\n          \"raw_score\": 0.0,\n          \"salience\": 0.0,\n          \"confidence\": 1.0\n        },\n        \"fragmentative_goals\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.8,\n          \"confidence\": 0.95\n        },\n        \"cohesive_goals\": {\n          \"raw_score\": 0.1,\n          \"salience\": 0.2,\n          \"confidence\": 0.9\n        }\n      },\n      \"evidence\": [\n        {\n          \"dimension\": \"tribal_dominance\",\n          \"quote_text\": \"It's another life loss to an, an illegal criminal alien who was unlawfully present in America, who had no business to be here, one who had been encountered by law enforcement officers in the past, one whom I believe ICE declined, uh, to pick up and place into removal proceedings.\",\n          \"confidence\": 1.0,\n          \"context_type\": \"in-group/out-group definition\"\n        },\n        {\n          \"dimension\": \"individual_dignity\",\n          \"quote_text\": \"That being one of God's children is good enough to be protected by the law, but everybody treated equally.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"limited appeal to universalism\"\n        },\n        {\n          \"dimension\": \"fear\",\n          \"quote_text\": \"And the sad, sad story told by Laura Wilkerson yesterday that she has the courage and the heart to come here and share her story with us and to place that awful, brutal, ghastly memory again into her mind's eye and pour that forth into the Congressional Record so that some of us, some of us will soak that up and be mobilized to do something, something more to resist the President's policy of amnesty...\",\n          \"confidence\": 1.0,\n          \"context_type\": \"graphic storytelling to incite action\"\n        },\n        {\n          \"dimension\": \"hope\",\n          \"quote_text\": \"This is the time we must defend our Constitution and we must nominate and elect a president of the United States who will make those appointments to the Supreme Court who believe the Constitution means what it says.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"call to action based on averting threat\"\n        },\n        {\n          \"dimension\": \"envy\",\n          \"quote_text\": \"He was out on $5,000 bail, which was less than it cost him to bury his daughter. And that individual absconded back out of the United States, now not to be reached again by the arm of the law...\",\n          \"confidence\": 1.0,\n          \"context_type\": \"grievance rhetoric emphasizing unfairness\"\n        },\n        {\n          \"dimension\": \"compersion\",\n          \"quote_text\": \"\",\n          \"confidence\": 1.0,\n          \"context_type\": \"absent\"\n        },\n        {\n          \"dimension\": \"enmity\",\n          \"quote_text\": \"We have a lame duck President who has made appointments to the Supreme Court who seem to believe that the Constitution means what they want it to mean and they want to read it uh to say what they want it to say rather than what it actually says and rather than what it actually was understood to mean at the time of its ratification.\",\n          \"confidence\": 1.0,\n          \"context_type\": \"adversarial characterization of opponent\"\n        },\n        {\n          \"dimension\": \"amity\",\n          \"quote_text\": \"I have listened to a lot of discussion here with which I disagree, of course, and uh, but I keep hearing this term, 'do your job, do your job.'\",\n          \"confidence\": 1.0,\n          \"context_type\": \"opening statement establishing opposition\"\n        },\n        {\n          \"dimension\": \"fragmentative_goals\",\n          \"quote_text\": \"And instead of being restored, it would be destroyed by another presidential appointment.\",\n          \"confidence\": 1.0,\n          \"context_type\": \"zero-sum framing of objectives\"\n        },\n        {\n          \"dimension\": \"cohesive_goals\",\n          \"quote_text\": \"We have a Constitution to preserve, protect, defend, and support and defend.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"in-group goal framed in oppositional context\"\n        }\n      ]\n    }\n  ]\n}\n<<<END_DISCERNUS_ANALYSIS_JSON_v6>>>\n```",
          "evidence_hash": "aacc802318dbbc499836b16494a96b8c5a08ab046f36425ece7f793d7bd0c4e7",
          "execution_metadata": {
            "start_time": "2025-08-25T03:46:04.358912+00:00",
            "end_time": "2025-08-25T03:46:47.370952+00:00",
            "duration_seconds": 43.012022
          },
          "input_artifacts": {
            "framework_hash": "aeaf6a196101d31208abb7400b7ca59b1cc0a25d2213f1ab236199a682797225",
            "document_hashes": [
              "738780d93cc3c43b7b2e292a7fd0aa9f7e438f7ad2555be4ce6bfc20d9efda82"
            ],
            "num_documents": 1
          },
          "provenance": {
            "security_boundary": {
              "experiment_name": "simple_test_cff",
              "experiment_root": "/Volumes/code/discernus/projects/simple_test_cff",
              "boundary_type": "filesystem",
              "security_level": "experiment_scoped"
            },
            "audit_session_id": "20250825T034437Z_847b04e6"
          }
        },
        "cached": true
      },
      {
        "analysis_id": "analysis_e8014b3eb101",
        "result_hash": "7d39ff25b0451d8f4019aa4d0b9ba4f386cb4dcd38ff5a5c6f311a3ea95c4c1f",
        "result_content": {
          "analysis_id": "analysis_e8014b3eb101",
          "agent_name": "EnhancedAnalysisAgent",
          "agent_version": "enhanced_v2.1_raw_output",
          "experiment_name": "simple_test",
          "model_used": "vertex_ai/gemini-2.5-pro",
          "raw_analysis_response": "```\n<<<DISCERNUS_ANALYSIS_JSON_v6>>>\n{\n  \"analysis_metadata\": {\n    \"framework_name\": \"cohesive_flourishing_framework\",\n    \"framework_version\": \"10.2\",\n    \"analyst_confidence\": 0.95,\n    \"analysis_notes\": \"The analysis focuses on the document's central rhetorical strategy, which establishes a stark conflict between an economic 'in-group' (The American People, working families) and an 'out-group' (the oligarchy, billionaires). The scoring reflects this pervasive class-based framing, which drives the high intensity and salience of dimensions like Envy, Enmity, and Tribal Dominance.\"\n  },\n  \"document_analyses\": [\n    {\n      \"document_id\": \"{artifact_id}\",\n      \"document_name\": \"bernie_sanders_2025_fighting_oligarchy.txt\",\n      \"dimensional_scores\": {\n        \"tribal_dominance\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.9,\n          \"confidence\": 1.0\n        },\n        \"individual_dignity\": {\n          \"raw_score\": 0.2,\n          \"salience\": 0.2,\n          \"confidence\": 0.9\n        },\n        \"fear\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.8,\n          \"confidence\": 1.0\n        },\n        \"hope\": {\n          \"raw_score\": 0.7,\n          \"salience\": 0.7,\n          \"confidence\": 1.0\n        },\n        \"envy\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 1.0\n        },\n        \"compersion\": {\n          \"raw_score\": 0.0,\n          \"salience\": 0.0,\n          \"confidence\": 1.0\n        },\n        \"enmity\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 1.0\n        },\n        \"amity\": {\n          \"raw_score\": 0.6,\n          \"salience\": 0.6,\n          \"confidence\": 0.9\n        },\n        \"fragmentative_goals\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.8,\n          \"confidence\": 1.0\n        },\n        \"cohesive_goals\": {\n          \"raw_score\": 0.6,\n          \"salience\": 0.6,\n          \"confidence\": 0.9\n        }\n      },\n      \"evidence\": [\n        {\n          \"dimension\": \"tribal_dominance\",\n          \"quote_text\": \"Abraham Lincoln talked about a government of the people, by the people, for the people. Well, Trump has a government of the billionaires, by the billionaires, and for the billionaires.\",\n          \"confidence\": 1.0,\n          \"context_type\": \"central_theme_contrast\"\n        },\n        {\n          \"dimension\": \"individual_dignity\",\n          \"quote_text\": \"I don\u2019t care if you are a Republican, Democrat, or independent, I don\u2019t think there\u2019s anybody who thinks it vaguely makes sense that the richest guy in the world could spend $270 million to get Trump elected and then become the most powerful person in the government.\",\n          \"confidence\": 0.8,\n          \"context_type\": \"inclusive_appeal_to_reason\"\n        },\n        {\n          \"dimension\": \"fear\",\n          \"quote_text\": \"They are prepared to destroy Social Security, Medicaid, Medicare, the Veterans Administration in order to make themselves even richer.\",\n          \"confidence\": 1.0,\n          \"context_type\": \"existential_threat_claim\"\n        },\n        {\n          \"dimension\": \"hope\",\n          \"quote_text\": \"I have every reason to believe deeply in my heart that not only will we defeat Trumpism, but we can create the kind of nation that we deserve.\",\n          \"confidence\": 1.0,\n          \"context_type\": \"visionary_concluding_statement\"\n        },\n        {\n          \"dimension\": \"envy\",\n          \"quote_text\": \"Meanwhile, there has been a $75 trillion transfer of wealth from the bottom 90% to the top 1%. That is what a rigged economy is about, and that is what we are going to change.\",\n          \"confidence\": 1.0,\n          \"context_type\": \"zero_sum_economic_claim\"\n        },\n        {\n          \"dimension\": \"compersion\",\n          \"quote_text\": \"\",\n          \"confidence\": 1.0,\n          \"context_type\": \"absent_theme\"\n        },\n        {\n          \"dimension\": \"enmity\",\n          \"quote_text\": \"But you would think that if you had a few billion dollars or $10 or $20 billion, you would not feel obliged to step on the backs of poor people to become even richer. But that is exactly what they are doing right now.\",\n          \"confidence\": 1.0,\n          \"context_type\": \"direct_accusation_of_harm\"\n        },\n        {\n          \"dimension\": \"amity\",\n          \"quote_text\": \"So if we stand together, are strong, are disciplined, are smart, I have every reason to believe deeply in my heart that not only will we defeat Trumpism, but we can create the kind of nation that we deserve.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"call_for_in_group_solidarity\"\n        },\n        {\n          \"dimension\": \"fragmentative_goals\",\n          \"quote_text\": \"We will not accept an oligarchic form of society. We will not accept the richest guy in the world running all over Washington, making cuts to the Social Security Administration...\",\n          \"confidence\": 1.0,\n          \"context_type\": \"statement_of_confrontational_objective\"\n        },\n        {\n          \"dimension\": \"cohesive_goals\",\n          \"quote_text\": \"...we can create the kind of nation that we deserve.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"statement_of_constructive_vision\"\n        }\n      ]\n    }\n  ]\n}\n<<<END_DISCERNUS_ANALYSIS_JSON_v6>>>\n```",
          "evidence_hash": "184accd189f917b22c46a15f8f1a675c3331e82e2410c6095e709d2753cb8171",
          "execution_metadata": {
            "start_time": "2025-08-25T03:46:47.371495+00:00",
            "end_time": "2025-08-25T03:47:42.956376+00:00",
            "duration_seconds": 55.58487
          },
          "input_artifacts": {
            "framework_hash": "aeaf6a196101d31208abb7400b7ca59b1cc0a25d2213f1ab236199a682797225",
            "document_hashes": [
              "261b893a384411f76907e78e7997860cd9be5d959334a6b9ae1386ea1ba6cbdd"
            ],
            "num_documents": 1
          },
          "provenance": {
            "security_boundary": {
              "experiment_name": "simple_test_cff",
              "experiment_root": "/Volumes/code/discernus/projects/simple_test_cff",
              "boundary_type": "filesystem",
              "security_level": "experiment_scoped"
            },
            "audit_session_id": "20250825T034437Z_847b04e6"
          }
        },
        "cached": true
      },
      {
        "analysis_id": "analysis_02c1cd5e194e",
        "result_hash": "527b545bc81fc48e4479eb7cd76d6973956897e720c7f4df3d2fb70338f890aa",
        "result_content": {
          "analysis_id": "analysis_02c1cd5e194e",
          "agent_name": "EnhancedAnalysisAgent",
          "agent_version": "enhanced_v2.1_raw_output",
          "experiment_name": "simple_test",
          "model_used": "vertex_ai/gemini-2.5-pro",
          "raw_analysis_response": "<<<DISCERNUS_ANALYSIS_JSON_v6>>>\n{\n  \"analysis_metadata\": {\n    \"framework_name\": \"cohesive_flourishing_framework\",\n    \"framework_version\": \"10.2\",\n    \"analyst_confidence\": 0.9,\n    \"analysis_notes\": \"The document is a political speech with a strong populist, class-based rhetorical structure. It consistently frames the central conflict as 'working people' versus a corrupt 'oligarchy'. This leads to high scores on opposing dimensions (e.g., Enmity and Amity), as the speaker calls for internal group solidarity (Amity) to effectively wage a political battle against an external group (Enmity). The rhetoric is intense and focused, making for clear evidence for most dimensions.\"\n  },\n  \"document_analyses\": [\n    {\n      \"document_id\": \"{artifact_id}\",\n      \"document_name\": \"alexandria_ocasio_cortez_2025_fighting_oligarchy.txt\",\n      \"dimensional_scores\": {\n        \"tribal_dominance\": {\n          \"raw_score\": 0.6,\n          \"salience\": 0.9,\n          \"confidence\": 0.9\n        },\n        \"individual_dignity\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.7,\n          \"confidence\": 0.95\n        },\n        \"fear\": {\n          \"raw_score\": 0.6,\n          \"salience\": 0.8,\n          \"confidence\": 0.9\n        },\n        \"hope\": {\n          \"raw_score\": 0.1,\n          \"salience\": 0.2,\n          \"confidence\": 0.8\n        },\n        \"envy\": {\n          \"raw_score\": 0.9,\n          \"salience\": 0.9,\n          \"confidence\": 0.95\n        },\n        \"compersion\": {\n          \"raw_score\": 0.0,\n          \"salience\": 0.0,\n          \"confidence\": 1.0\n        },\n        \"enmity\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.8,\n          \"confidence\": 0.95\n        },\n        \"amity\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.8,\n          \"confidence\": 0.95\n        },\n        \"fragmentative_goals\": {\n          \"raw_score\": 0.7,\n          \"salience\": 0.8,\n          \"confidence\": 0.9\n        },\n        \"cohesive_goals\": {\n          \"raw_score\": 0.8,\n          \"salience\": 0.8,\n          \"confidence\": 0.95\n        }\n      },\n      \"evidence\": [\n        {\n          \"dimension\": \"tribal_dominance\",\n          \"quote_text\": \"We are witnessing an oligarchy in America. And that is when those with the most economic, political, and technological power destroy the public good to enrich themselves while millions of Americans pay the price.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"Definition of antagonist group\"\n        },\n        {\n          \"dimension\": \"individual_dignity\",\n          \"quote_text\": \"If you are willing to fight for someone you don't know, you are welcome here.\",\n          \"confidence\": 0.95,\n          \"context_type\": \"Inclusive call to action\"\n        },\n        {\n          \"dimension\": \"fear\",\n          \"quote_text\": \"The same billionaires are taking a wrecking ball to our country and they derive their power from dividing working people apart.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"Crisis and threat framing\"\n        },\n        {\n          \"dimension\": \"hope\",\n          \"quote_text\": \"if we stand together, it is the only way that we can win.\",\n          \"confidence\": 0.7,\n          \"context_type\": \"Statement of efficacy through unity\"\n        },\n        {\n          \"dimension\": \"envy\",\n          \"quote_text\": \"They aren't working for these billions. They're stealing them. They're stealing them. They're stealing them from you and you and me.\",\n          \"confidence\": 0.95,\n          \"context_type\": \"Delegitimization of opponent's success\"\n        },\n        {\n          \"dimension\": \"compersion\",\n          \"quote_text\": \"\",\n          \"confidence\": 1.0,\n          \"context_type\": \"Absence of evidence\"\n        },\n        {\n          \"dimension\": \"enmity\",\n          \"quote_text\": \"We need to come together and spend every day between now and election day working to educate our neighbors, and give Evans and Boebert the boot, and replace them with a brawling Democrat who will stand for Colorado.\",\n          \"confidence\": 0.95,\n          \"context_type\": \"Hostile call to political action\"\n        },\n        {\n          \"dimension\": \"amity\",\n          \"quote_text\": \"Because in this house, we stand together, we know that, that it's our only choice because we know that without exception, if we stand together, it is the only way that we can win.\",\n          \"confidence\": 0.95,\n          \"context_type\": \"Call for in-group solidarity\"\n        },\n        {\n          \"dimension\": \"fragmentative_goals\",\n          \"quote_text\": \"But his answer is an America that operates on the principle of every man for himself, divide and conquer.\",\n          \"confidence\": 0.9,\n          \"context_type\": \"Attribution of divisive strategy to opponent\"\n        },\n        {\n          \"dimension\": \"cohesive_goals\",\n          \"quote_text\": \"So I hope that you see this movement is not about partisan labels or purity tests, but about class solidarity.\",\n          \"confidence\": 0.95,\n          \"context_type\": \"Statement of unifying movement goal\"\n        }\n      ]\n    }\n  ]\n}\n<<<END_DISCERNUS_ANALYSIS_JSON_v6>>>",
          "evidence_hash": "24b55e868917dd2ae7cbe2ca158e32b2d2bf964b326b7a3af97ac32dd71f9afa",
          "execution_metadata": {
            "start_time": "2025-08-25T03:47:42.957622+00:00",
            "end_time": "2025-08-25T03:48:34.087530+00:00",
            "duration_seconds": 51.129899
          },
          "input_artifacts": {
            "framework_hash": "aeaf6a196101d31208abb7400b7ca59b1cc0a25d2213f1ab236199a682797225",
            "document_hashes": [
              "1121e4ae679ce6e6c08c6d2d9aa4ce0c6e5040e8b13405fcfd9ea725b8ad5ff6"
            ],
            "num_documents": 1
          },
          "provenance": {
            "security_boundary": {
              "experiment_name": "simple_test_cff",
              "experiment_root": "/Volumes/code/discernus/projects/simple_test_cff",
              "boundary_type": "filesystem",
              "security_level": "experiment_scoped"
            },
            "audit_session_id": "20250825T034437Z_847b04e6"
          }
        },
        "cached": true
      }
    ],
    "columns_added": []
  },
  "status": "success_with_data",
  "validation_passed": true
}