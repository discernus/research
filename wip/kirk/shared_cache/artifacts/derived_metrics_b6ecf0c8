{
  "analysis_id": "analysis_a379c9bd",
  "step": "derived_metrics_generation",
  "model_used": "vertex_ai/gemini-2.5-flash-lite",
  "derived_metrics": "```python\nimport json\n\n# Provided dimensional scores\ndimensional_scores = {\n  \"tribal_dominance\": {\n    \"raw_score\": 0.85,\n    \"salience\": 0.8,\n    \"confidence\": 0.95\n  },\n  \"individual_dignity\": {\n    \"raw_score\": 0.05,\n    \"salience\": 0.05,\n    \"confidence\": 0.9\n  },\n  \"fear\": {\n    \"raw_score\": 0.9,\n    \"salience\": 0.9,\n    \"confidence\": 0.98\n  },\n  \"hope\": {\n    \"raw_score\": 0.8,\n    \"salience\": 0.85,\n    \"confidence\": 0.95\n  },\n  \"envy\": {\n    \"raw_score\": 0.9,\n    \"salience\": 0.85,\n    \"confidence\": 0.98\n  },\n  \"mudita\": {\n    \"raw_score\": 0.0,\n    \"salience\": 0.0,\n    \"confidence\": 0.99\n  },\n  \"enmity\": {\n    \"raw_score\": 0.9,\n    \"salience\": 0.9,\n    \"confidence\": 0.98\n  },\n  \"amity\": {\n    \"raw_score\": 0.6,\n    \"salience\": 0.5,\n    \"confidence\": 0.9\n  },\n  \"fragmentative_goals\": {\n    \"raw_score\": 0.85,\n    \"salience\": 0.8,\n    \"confidence\": 0.95\n  },\n  \"cohesive_goals\": {\n    \"raw_score\": 0.75,\n    \"salience\": 0.7,\n    \"confidence\": 0.95\n  }\n}\n\n# --- Derived Metrics Calculation ---\n\n# Helper function to safely access scores, returning 0 if a dimension is missing\ndef get_score(dim_name, score_type=\"raw_score\"):\n    return dimensional_scores.get(dim_name, {}).get(score_type, 0.0)\n\n# 1. Tension Indices\nidentity_tension = min(get_score(\"tribal_dominance\", \"raw_score\"), get_score(\"individual_dignity\", \"raw_score\")) * abs(get_score(\"tribal_dominance\", \"salience\") - get_score(\"individual_dignity\", \"salience\"))\nemotional_tension = min(get_score(\"fear\", \"raw_score\"), get_score(\"hope\", \"raw_score\")) * abs(get_score(\"fear\", \"salience\") - get_score(\"hope\", \"salience\"))\nsuccess_tension = min(get_score(\"envy\", \"raw_score\"), get_score(\"mudita\", \"raw_score\")) * abs(get_score(\"envy\", \"salience\") - get_score(\"mudita\", \"salience\"))\nrelational_tension = min(get_score(\"enmity\", \"raw_score\"), get_score(\"amity\", \"raw_score\")) * abs(get_score(\"enmity\", \"salience\") - get_score(\"amity\", \"salience\"))\ngoal_tension = min(get_score(\"fragmentative_goals\", \"raw_score\"), get_score(\"cohesive_goals\", \"raw_score\")) * abs(get_score(\"fragmentative_goals\", \"salience\") - get_score(\"cohesive_goals\", \"salience\"))\n\n# 2. Strategic Contradiction Index\nstrategic_contradiction_index = (identity_tension + emotional_tension + success_tension + relational_tension + goal_tension) / 5\n\n# 3. Intermediate calculations for salience-weighted cohesion indices\nemotional_cohesion_component = (get_score(\"hope\", \"raw_score\") * get_score(\"hope\", \"salience\") - get_score(\"fear\", \"raw_score\") * get_score(\"fear\", \"salience\"))\nsuccess_cohesion_component = (get_score(\"mudita\", \"raw_score\") * get_score(\"mudita\", \"salience\") - get_score(\"envy\", \"raw_score\") * get_score(\"envy\", \"salience\"))\nrelational_cohesion_component = (get_score(\"amity\", \"raw_score\") * get_score(\"amity\", \"salience\") - get_score(\"enmity\", \"raw_score\") * get_score(\"enmity\", \"salience\"))\ngoal_cohesion_component = (get_score(\"cohesive_goals\", \"raw_score\") * get_score(\"cohesive_goals\", \"salience\") - get_score(\"fragmentative_goals\", \"raw_score\") * get_score(\"fragmentative_goals\", \"salience\"))\nidentity_cohesion_component = (get_score(\"individual_dignity\", \"raw_score\") * get_score(\"individual_dignity\", \"salience\") - get_score(\"tribal_dominance\", \"raw_score\") * get_score(\"tribal_dominance\", \"salience\"))\n\n# 4. Salience weight calculations\ndescriptive_salience_total = (get_score(\"hope\", \"salience\") + get_score(\"fear\", \"salience\") + get_score(\"mudita\", \"salience\") + get_score(\"envy\", \"salience\") + get_score(\"amity\", \"salience\") + get_score(\"enmity\", \"salience\"))\nmotivational_salience_total = (get_score(\"hope\", \"salience\") + get_score(\"fear\", \"salience\") + get_score(\"mudita\", \"salience\") + get_score(\"envy\", \"salience\") + get_score(\"amity\", \"salience\") + get_score(\"enmity\", \"salience\") + get_score(\"cohesive_goals\", \"salience\") + get_score(\"fragmentative_goals\", \"salience\"))\nfull_salience_total = (get_score(\"individual_dignity\", \"salience\") + get_score(\"tribal_dominance\", \"salience\") + get_score(\"hope\", \"salience\") + get_score(\"fear\", \"salience\") + get_score(\"mudita\", \"salience\") + get_score(\"envy\", \"salience\") + get_score(\"amity\", \"salience\") + get_score(\"enmity\", \"salience\") + get_score(\"cohesive_goals\", \"salience\") + get_score(\"fragmentative_goals\", \"salience\"))\n\n# 5. Final salience-weighted cohesion indices\nepsilon = 0.001 # To prevent division by zero\n\ndescriptive_cohesion_index = (emotional_cohesion_component + success_cohesion_component + relational_cohesion_component) / (descriptive_salience_total + epsilon)\nmotivational_cohesion_index = (emotional_cohesion_component + success_cohesion_component + relational_cohesion_component + goal_cohesion_component) / (motivational_salience_total + epsilon)\nfull_cohesion_index = (identity_cohesion_component + emotional_cohesion_component + success_cohesion_component + relational_cohesion_component + goal_cohesion_component) / (full_salience_total + epsilon)\n\n\n# Store results\nderived_metrics_results = {\n    \"identity_tension\": round(identity_tension, 4),\n    \"emotional_tension\": round(emotional_tension, 4),\n    \"success_tension\": round(success_tension, 4),\n    \"relational_tension\": round(relational_tension, 4),\n    \"goal_tension\": round(goal_tension, 4),\n    \"strategic_contradiction_index\": round(strategic_contradiction_index, 4),\n    \"descriptive_cohesion_index\": round(descriptive_cohesion_index, 4),\n    \"motivational_cohesion_index\": round(motivational_cohesion_index, 4),\n    \"full_cohesion_index\": round(full_cohesion_index, 4)\n}\n\n# Print results\nprint(json.dumps(derived_metrics_results, indent=2))\n```\n\n```json\n{\n  \"identity_tension\": 0.0,\n  \"emotional_tension\": 0.0085,\n  \"success_tension\": 0.0,\n  \"relational_tension\": 0.15,\n  \"goal_tension\": 0.0425,\n  \"strategic_contradiction_index\": 0.038,\n  \"descriptive_cohesion_index\": -0.1636,\n  \"motivational_cohesion_index\": -0.1426,\n  \"full_cohesion_index\": -0.3004\n}\n```",
  "timestamp": "2025-09-15T20:30:39.796519+00:00"
}