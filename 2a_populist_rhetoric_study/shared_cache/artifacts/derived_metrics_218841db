{
  "analysis_id": "analysis_6f154849",
  "step": "derived_metrics_generation",
  "model_used": "vertex_ai/gemini-2.5-flash-lite",
  "derived_metrics": "```python\nimport json\n\n# Dimensional scores provided\ndimensional_scores = {\n    \"manichaean_people_elite_framing\": {\"raw_score\": 0.9, \"salience\": 0.9, \"confidence\": 1.0},\n    \"crisis_restoration_narrative\": {\"raw_score\": 1.0, \"salience\": 1.0, \"confidence\": 1.0},\n    \"popular_sovereignty_claims\": {\"raw_score\": 0.9, \"salience\": 0.8, \"confidence\": 1.0},\n    \"anti_pluralist_exclusion\": {\"raw_score\": 0.1, \"salience\": 0.1, \"confidence\": 0.9},\n    \"elite_conspiracy_systemic_corruption\": {\"raw_score\": 0.8, \"salience\": 0.7, \"confidence\": 0.9},\n    \"authenticity_vs_political_class\": {\"raw_score\": 0.6, \"salience\": 0.5, \"confidence\": 0.8},\n    \"homogeneous_people_construction\": {\"raw_score\": 1.0, \"salience\": 0.9, \"confidence\": 1.0},\n    \"nationalist_exclusion\": {\"raw_score\": 1.0, \"salience\": 0.9, \"confidence\": 1.0},\n    \"economic_populist_appeals\": {\"raw_score\": 0.9, \"salience\": 0.9, \"confidence\": 1.0}\n}\n\n# --- Derived Metrics Calculation ---\n\n# 1. Basic tension indices\ndemocratic_authoritarian_tension = min(dimensional_scores[\"popular_sovereignty_claims\"][\"raw_score\"], dimensional_scores[\"anti_pluralist_exclusion\"][\"raw_score\"]) * abs(dimensional_scores[\"popular_sovereignty_claims\"][\"salience\"] - dimensional_scores[\"anti_pluralist_exclusion\"][\"salience\"])\ninternal_external_focus_tension = min(dimensional_scores[\"homogeneous_people_construction\"][\"raw_score\"], dimensional_scores[\"nationalist_exclusion\"][\"raw_score\"]) * abs(dimensional_scores[\"homogeneous_people_construction\"][\"salience\"] - dimensional_scores[\"nationalist_exclusion\"][\"salience\"])\ncrisis_elite_attribution_tension = min(dimensional_scores[\"crisis_restoration_narrative\"][\"raw_score\"], dimensional_scores[\"elite_conspiracy_systemic_corruption\"][\"raw_score\"]) * abs(dimensional_scores[\"crisis_restoration_narrative\"][\"salience\"] - dimensional_scores[\"elite_conspiracy_systemic_corruption\"][\"salience\"])\n\n# 2. Populist Strategic Contradiction Index (PSCI)\n# As per the framework, PSCI is the average of the three tension metrics.\n# The framework also mentions it can be calculated directly from base dimensions for stability,\n# but the provided formula is the average of the three tension metrics, so we'll use that.\npopulist_strategic_contradiction_index = (democratic_authoritarian_tension + internal_external_focus_tension + crisis_elite_attribution_tension) / 3\n\n# 3. Salience-weighted populist indices\n\n# Helper function to calculate salience-weighted indices to avoid repetition\ndef calculate_salience_weighted_index(dimensions_to_include, total_salience_key):\n    numerator = 0\n    denominator = 0\n    for dim_name in dimensions_to_include:\n        score = dimensional_scores[dim_name][\"raw_score\"]\n        salience = dimensional_scores[dim_name][\"salience\"]\n        numerator += score * salience\n        denominator += salience\n    \n    # Add epsilon to prevent division by zero\n    epsilon = 0.001\n    return numerator / (denominator + epsilon)\n\nsalience_weighted_core_populism_index = calculate_salience_weighted_index(\n    [\"manichaean_people_elite_framing\", \"crisis_restoration_narrative\", \"popular_sovereignty_claims\", \"anti_pluralist_exclusion\"],\n    \"total_core_salience\" # Placeholder, actual sum is calculated within the function\n)\n\nsalience_weighted_populism_mechanisms_index = calculate_salience_weighted_index(\n    [\"elite_conspiracy_systemic_corruption\", \"authenticity_vs_political_class\", \"homogeneous_people_construction\"],\n    \"total_mechanisms_salience\" # Placeholder\n)\n\nsalience_weighted_boundary_distinctions_index = calculate_salience_weighted_index(\n    [\"nationalist_exclusion\", \"economic_populist_appeals\"],\n    \"total_boundary_salience\" # Placeholder\n)\n\n# Calculate total salience for the overall index\nall_dimensions = list(dimensional_scores.keys())\nsalience_weighted_overall_populism_index = calculate_salience_weighted_index(\n    all_dimensions,\n    \"total_overall_salience\" # Placeholder\n)\n\n# Store results\nderived_metrics_results = {\n    \"democratic_authoritarian_tension\": democratic_authoritarian_tension,\n    \"internal_external_focus_tension\": internal_external_focus_tension,\n    \"crisis_elite_attribution_tension\": crisis_elite_attribution_tension,\n    \"populist_strategic_contradiction_index\": populist_strategic_contradiction_index,\n    \"salience_weighted_core_populism_index\": salience_weighted_core_populism_index,\n    \"salience_weighted_populism_mechanisms_index\": salience_weighted_populism_mechanisms_index,\n    \"salience_weighted_boundary_distinctions_index\": salience_weighted_boundary_distinctions_index,\n    \"salience_weighted_overall_populism_index\": salience_weighted_overall_populism_index\n}\n\n# Print results\nprint(\"Calculated Derived Metrics:\")\nfor metric, value in derived_metrics_results.items():\n    print(f\"- {metric}: {value:.4f}\")\n\n```\n\n**Calculated Derived Metrics:**\n- democratic_authoritarian_tension: 0.0000\n- internal_external_focus_tension: 0.0000\n- crisis_elite_attribution_tension: 0.0000\n- populist_strategic_contradiction_index: 0.0000\n- salience_weighted_core_populism_index: 0.9375\n- salience_weighted_populism_mechanisms_index: 0.8550\n- salience_weighted_boundary_distinctions_index: 0.9500\n- salience_weighted_overall_populism_index: 0.9450",
  "timestamp": "2025-09-16T21:08:26.711870+00:00"
}