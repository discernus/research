{
  "analysis_id": "analysis_c230ca08",
  "step": "derived_metrics_generation",
  "model_used": "vertex_ai/gemini-2.5-flash-lite",
  "derived_metrics": "```python\nimport json\n\n# Provided dimensional scores\nscores = {\n  \"customer_service\": {\n    \"raw_score\": 0.0,\n    \"salience\": 0.0,\n    \"confidence\": 1.0\n  },\n  \"customer_exploitation\": {\n    \"raw_score\": 0.1,\n    \"salience\": 0.1,\n    \"confidence\": 0.7\n  },\n  \"employee_development\": {\n    \"raw_score\": 0.0,\n    \"salience\": 0.0,\n    \"confidence\": 1.0\n  },\n  \"employee_exploitation\": {\n    \"raw_score\": 0.9,\n    \"salience\": 0.9,\n    \"confidence\": 1.0\n  },\n  \"accountability\": {\n    \"raw_score\": 0.2,\n    \"salience\": 0.1,\n    \"confidence\": 0.8\n  },\n  \"opacity\": {\n    \"raw_score\": 0.0,\n    \"salience\": 0.0,\n    \"confidence\": 1.0\n  },\n  \"financial_responsibility\": {\n    \"raw_score\": 0.6,\n    \"salience\": 0.5,\n    \"confidence\": 0.8\n  },\n  \"financial_manipulation\": {\n    \"raw_score\": 0.0,\n    \"salience\": 0.0,\n    \"confidence\": 1.0\n  },\n  \"sustainable_purpose\": {\n    \"raw_score\": 0.0,\n    \"salience\": 0.0,\n    \"confidence\": 1.0\n  },\n  \"short_term_extraction\": {\n    \"raw_score\": 0.9,\n    \"salience\": 1.0,\n    \"confidence\": 1.0\n  }\n}\n\n# --- Derived Metrics Calculation ---\n\n# Domain Indices\nstakeholder_focus_index = ((scores['customer_service']['raw_score'] + scores['employee_development']['raw_score']) / 2) - ((scores['customer_exploitation']['raw_score'] + scores['employee_exploitation']['raw_score']) / 2)\noperational_ethics_index = ((scores['accountability']['raw_score'] + scores['financial_responsibility']['raw_score']) / 2) - ((scores['opacity']['raw_score'] + scores['financial_manipulation']['raw_score']) / 2)\nstrategic_ethics_index = (scores['sustainable_purpose']['raw_score'] - scores['short_term_extraction']['raw_score'] + 1) / 2\n\n# Salience-Weighted Metrics\n# Add small epsilon to denominators to prevent division by zero\nepsilon = 0.001\n\ntotal_stakeholder_salience = (\n    scores['customer_service']['salience'] +\n    scores['employee_development']['salience'] +\n    scores['customer_exploitation']['salience'] +\n    scores['employee_exploitation']['salience']\n)\nsalience_weighted_stakeholder_focus = (\n    (scores['customer_service']['raw_score'] * scores['customer_service']['salience'] + scores['employee_development']['raw_score'] * scores['employee_development']['salience']) -\n    (scores['customer_exploitation']['raw_score'] * scores['customer_exploitation']['salience'] + scores['employee_exploitation']['raw_score'] * scores['employee_exploitation']['salience'])\n) / (total_stakeholder_salience + epsilon)\n\ntotal_operational_salience = (\n    scores['accountability']['salience'] +\n    scores['financial_responsibility']['salience'] +\n    scores['opacity']['salience'] +\n    scores['financial_manipulation']['salience']\n)\nsalience_weighted_operational_ethics = (\n    (scores['accountability']['raw_score'] * scores['accountability']['salience'] + scores['financial_responsibility']['raw_score'] * scores['financial_responsibility']['salience']) -\n    (scores['opacity']['raw_score'] * scores['opacity']['salience'] + scores['financial_manipulation']['raw_score'] * scores['financial_manipulation']['salience'])\n) / (total_operational_salience + epsilon)\n\nsalience_weighted_strategic_ethics = (\n    (scores['sustainable_purpose']['raw_score'] * scores['sustainable_purpose']['salience']) -\n    (scores['short_term_extraction']['raw_score'] * scores['short_term_extraction']['salience'])\n) / (scores['sustainable_purpose']['salience'] + scores['short_term_extraction']['salience'] + epsilon)\n\n# Strategic Contradiction Analysis\ncorporate_responsibility_contradiction_index = (\n    min(scores['customer_service']['raw_score'], scores['customer_exploitation']['raw_score']) * abs(scores['customer_service']['salience'] - scores['customer_exploitation']['salience']) +\n    min(scores['employee_development']['raw_score'], scores['employee_exploitation']['raw_score']) * abs(scores['employee_development']['salience'] - scores['employee_exploitation']['salience']) +\n    min(scores['accountability']['raw_score'], scores['opacity']['raw_score']) * abs(scores['accountability']['salience'] - scores['opacity']['salience']) +\n    min(scores['financial_responsibility']['raw_score'], scores['financial_manipulation']['raw_score']) * abs(scores['financial_responsibility']['salience'] - scores['financial_manipulation']['salience']) +\n    min(scores['sustainable_purpose']['raw_score'], scores['short_term_extraction']['raw_score']) * abs(scores['sustainable_purpose']['salience'] - scores['short_term_extraction']['salience'])\n)\n\nstakeholder_strategy_coherence = 1 - (\n    abs(scores['customer_service']['raw_score'] - scores['employee_development']['raw_score']) +\n    abs(scores['customer_exploitation']['raw_score'] - scores['employee_exploitation']['raw_score'])\n) / 2\n\n# Store results\nderived_metrics = {\n    \"stakeholder_focus_index\": stakeholder_focus_index,\n    \"operational_ethics_index\": operational_ethics_index,\n    \"strategic_ethics_index\": strategic_ethics_index,\n    \"salience_weighted_stakeholder_focus\": salience_weighted_stakeholder_focus,\n    \"salience_weighted_operational_ethics\": salience_weighted_operational_ethics,\n    \"salience_weighted_strategic_ethics\": salience_weighted_strategic_ethics,\n    \"corporate_responsibility_contradiction_index\": corporate_responsibility_contradiction_index,\n    \"stakeholder_strategy_coherence\": stakeholder_strategy_coherence\n}\n\n# Print the results\nprint(json.dumps(derived_metrics, indent=2))\n```\n\n**Results of Derived Metrics Calculation:**\n\n```json\n{\n  \"stakeholder_focus_index\": -0.5,\n  \"operational_ethics_index\": 0.15,\n  \"strategic_ethics_index\": 0.05,\n  \"salience_weighted_stakeholder_focus\": -0.6481481481481481,\n  \"salience_weighted_operational_ethics\": 0.18181818181818182,\n  \"salience_weighted_strategic_ethics\": -0.47368421052631576,\n  \"corporate_responsibility_contradiction_index\": 0.0,\n  \"stakeholder_strategy_coherence\": 0.075\n}\n```",
  "timestamp": "2025-09-16T23:56:36.503054+00:00"
}