{
  "analysis_id": "analysis_v2_analysis_20250921_151046_0",
  "step": "derived_metrics",
  "model_used": "vertex_ai/gemini-2.5-pro",
  "derived_metrics": "This Python code calculates the derived metrics for the Cohesive Flourishing Framework (CFF) based on the provided dimensional scores and the framework's specifications.\n\n```python\nimport json\n\n# Provided dimensional scores\ndimensional_scores = {\n  \"tribal_dominance\": {\"raw_score\": 0.9, \"salience\": 0.8},\n  \"individual_dignity\": {\"raw_score\": 0.2, \"salience\": 0.3},\n  \"fear\": {\"raw_score\": 0.8, \"salience\": 0.9},\n  \"hope\": {\"raw_score\": 0.7, \"salience\": 0.7},\n  \"envy\": {\"raw_score\": 0.6, \"salience\": 0.5},\n  \"compersion\": {\"raw_score\": 0.0, \"salience\": 0.1},\n  \"enmity\": {\"raw_score\": 0.9, \"salience\": 0.8},\n  \"amity\": {\"raw_score\": 0.2, \"salience\": 0.3},\n  \"fragmentative_goals\": {\"raw_score\": 0.8, \"salience\": 0.7},\n  \"cohesive_goals\": {\"raw_score\": 0.8, \"salience\": 0.6}\n}\n\n# Epsilon for division by zero prevention, as per framework\nEPSILON = 0.001\n\n# --- Calculate Tension Indices ---\n\n# Identity Tension: Measures contradiction between tribal dominance and individual dignity appeals.\n# Formula: min(Score_A, Score_B) \u00d7 |Salience_A - Salience_B|\nidentity_tension = min(dimensional_scores[\"tribal_dominance\"][\"raw_score\"], \n                       dimensional_scores[\"individual_dignity\"][\"raw_score\"]) * \\\n                   abs(dimensional_scores[\"tribal_dominance\"][\"salience\"] - \n                       dimensional_scores[\"individual_dignity\"][\"salience\"])\n\n# Emotional Tension: Measures contradiction between fear and hope messaging.\nemotional_tension = min(dimensional_scores[\"fear\"][\"raw_score\"], \n                        dimensional_scores[\"hope\"][\"raw_score\"]) * \\\n                    abs(dimensional_scores[\"fear\"][\"salience\"] - \n                        dimensional_scores[\"hope\"][\"salience\"])\n\n# Success Tension: Measures contradiction between envy and compersion rhetoric.\nsuccess_tension = min(dimensional_scores[\"envy\"][\"raw_score\"], \n                      dimensional_scores[\"compersion\"][\"raw_score\"]) * \\\n                  abs(dimensional_scores[\"envy\"][\"salience\"] - \n                      dimensional_scores[\"compersion\"][\"salience\"])\n\n# Relational Tension: Measures contradiction between enmity and amity positioning.\nrelational_tension = min(dimensional_scores[\"enmity\"][\"raw_score\"], \n                         dimensional_scores[\"amity\"][\"raw_score\"]) * \\\n                     abs(dimensional_scores[\"enmity\"][\"salience\"] - \n                         dimensional_scores[\"amity\"][\"salience\"])\n\n# Goal Tension: Measures contradiction between fragmentative and cohesive objectives.\ngoal_tension = min(dimensional_scores[\"fragmentative_goals\"][\"raw_score\"], \n                   dimensional_scores[\"cohesive_goals\"][\"raw_score\"]) * \\\n               abs(dimensional_scores[\"fragmentative_goals\"][\"salience\"] - \n                   dimensional_scores[\"cohesive_goals\"][\"salience\"])\n\n# --- Calculate Strategic Contradiction Index ---\n\n# Strategic Contradiction Index: Average of all tension indices, measuring overall rhetorical coherence.\n# Lower values indicate more consistent messaging.\nstrategic_contradiction_index = (identity_tension + emotional_tension + success_tension + relational_tension + goal_tension) / 5\n\n# --- Calculate Intermediate Components for Cohesion Indices ---\n\n# Emotional Cohesion Component: (Hope * Salience_Hope) - (Fear * Salience_Fear)\nemotional_cohesion_component = (dimensional_scores[\"hope\"][\"raw_score\"] * dimensional_scores[\"hope\"][\"salience\"]) - \\\n                               (dimensional_scores[\"fear\"][\"raw_score\"] * dimensional_scores[\"fear\"][\"salience\"])\n\n# Success Cohesion Component: (Compersion * Salience_Compersion) - (Envy * Salience_Envy)\nsuccess_cohesion_component = (dimensional_scores[\"compersion\"][\"raw_score\"] * dimensional_scores[\"compersion\"][\"salience\"]) - \\\n                             (dimensional_scores[\"envy\"][\"raw_score\"] * dimensional_scores[\"envy\"][\"salience\"])\n\n# Relational Cohesion Component: (Amity * Salience_Amity) - (Enmity * Salience_Enmity)\nrelational_cohesion_component = (dimensional_scores[\"amity\"][\"raw_score\"] * dimensional_scores[\"amity\"][\"salience\"]) - \\\n                                (dimensional_scores[\"enmity\"][\"raw_score\"] * dimensional_scores[\"enmity\"][\"salience\"])\n\n# Goal Cohesion Component: (Cohesive_Goals * Salience_Cohesive_Goals) - (Fragmentative_Goals * Salience_Fragmentative_Goals)\ngoal_cohesion_component = (dimensional_scores[\"cohesive_goals\"][\"raw_score\"] * dimensional_scores[\"cohesive_goals\"][\"salience\"]) - \\\n                          (dimensional_scores[\"fragmentative_goals\"][\"raw_score\"] * dimensional_scores[\"fragmentative_goals\"][\"salience\"])\n\n# Identity Cohesion Component: (Individual_Dignity * Salience_Individual_Dignity) - (Tribal_Dominance * Salience_Tribal_Dominance)\nidentity_cohesion_component = (dimensional_scores[\"individual_dignity\"][\"raw_score\"] * dimensional_scores[\"individual_dignity\"][\"salience\"]) - \\\n                              (dimensional_scores[\"tribal_dominance\"][\"raw_score\"] * dimensional_scores[\"tribal_dominance\"][\"salience\"])\n\n# --- Calculate Total Salience for Normalization ---\n\n# Descriptive Salience Total: Sum of salience for emotional and relational dimensions.\ndescriptive_salience_total = (dimensional_scores[\"hope\"][\"salience\"] + dimensional_scores[\"fear\"][\"salience\"] +\n                              dimensional_scores[\"compersion\"][\"salience\"] + dimensional_scores[\"envy\"][\"salience\"] +\n                              dimensional_scores[\"amity\"][\"salience\"] + dimensional_scores[\"enmity\"][\"salience\"])\n\n# Motivational Salience Total: Sum of salience for emotional, relational, and goal dimensions.\nmotivational_salience_total = descriptive_salience_total + \\\n                              dimensional_scores[\"cohesive_goals\"][\"salience\"] + \\\n                              dimensional_scores[\"fragmentative_goals\"][\"salience\"]\n\n# Full Salience Total: Sum of salience for all identity, emotional, relational, and goal dimensions.\nfull_salience_total = motivational_salience_total + \\\n                      dimensional_scores[\"individual_dignity\"][\"salience\"] + \\\n                      dimensional_scores[\"tribal_dominance\"][\"salience\"]\n\n# --- Calculate Final Salience-Weighted Cohesion Indices ---\n\n# Descriptive Cohesion Index: Measures immediate emotional and relational climate.\n# Positive values indicate hope, compersion, and amity emphasis; negative values indicate fear, envy, and enmity emphasis.\n# Normalized by the sum of relevant salience weights.\ndescriptive_cohesion_index = (emotional_cohesion_component + success_cohesion_component + relational_cohesion_component) / \\\n                             (descriptive_salience_total + EPSILON)\n\n# Motivational Cohesion Index: Assesses likely behavioral consequences.\n# Positive values suggest cooperative, abundance-oriented behaviors; negative values suggest competitive, zero-sum behaviors.\n# Normalized by the sum of relevant salience weights.\nmotivational_cohesion_index = (emotional_cohesion_component + success_cohesion_component + relational_cohesion_component + goal_cohesion_component) / \\\n                              (motivational_salience_total + EPSILON)\n\n# Full Cohesion Index: Comprehensive evaluation of democratic health and social cohesion.\n# Positive values indicate discourse supporting democratic institutions and social solidarity; negative values indicate discourse undermining democratic health and promoting fragmentation.\n# Normalized by the sum of all relevant salience weights.\nfull_cohesion_index = (identity_cohesion_component + emotional_cohesion_component + success_cohesion_component + relational_cohesion_component + goal_cohesion_component) / \\\n                      (full_salience_total + EPSILON)\n\n# --- Store and Display Results ---\n\nderived_metrics_results = {\n    \"tension_indices\": {\n        \"identity_tension\": identity_tension,\n        \"emotional_tension\": emotional_tension,\n        \"success_tension\": success_tension,\n        \"relational_tension\": relational_tension,\n        \"goal_tension\": goal_tension\n    },\n    \"strategic_contradiction_index\": strategic_contradiction_index,\n    \"salience_weighted_cohesion_indices\": {\n        \"descriptive_cohesion_index\": descriptive_cohesion_index,\n        \"motivational_cohesion_index\": motivational_cohesion_index,\n        \"full_cohesion_index\": full_cohesion_index\n    }\n}\n\n# Pretty print the results\nprint(json.dumps(derived_metrics_results, indent=2))\n```\n\n### Explanation of Calculations:\n\n1.  **Tension Indices**:\n    *   These metrics quantify the \"Rhetorical Tension\" within each opposing pair of dimensions.\n    *   The formula `min(Score_A, Score_B) * abs(Salience_A - Salience_B)` captures situations where both opposing dimensions are present (indicated by non-zero scores) and their salience (emphasis) differs significantly. A higher score means greater contradiction.\n\n2.  **Strategic Contradiction Index**:\n    *   This is a composite metric that averages all the individual tension indices.\n    *   It provides an overall measure of rhetorical incoherence or strategic contradiction within the discourse. A lower score indicates more consistent messaging.\n\n3.  **Salience-Weighted Cohesion Indices**:\n    *   These are the core \"cohesion\" metrics, designed to measure the discourse's impact on social solidarity and democratic health.\n    *   The calculation involves:\n        *   **Component Calculation**: For each pair, the \"cohesion component\" is calculated as `(Positive_Dimension_Score * Positive_Dimension_Salience) - (Negative_Dimension_Score * Negative_Dimension_Salience)`. This gives a directional score weighted by emphasis.\n        *   **Total Salience Calculation**: The sum of salience scores for the relevant dimensions is calculated to serve as a normalization factor. This ensures that the final index reflects the relative emphasis given to these dimensions.\n        *   **Normalization**: Each combined cohesion component is divided by its respective total salience (plus a small epsilon to prevent division by zero). This scales the index between -1.0 and +1.0.\n    *   **Descriptive Cohesion Index**: Focuses on immediate emotional and relational aspects.\n    *   **Motivational Cohesion Index**: Extends to include goal orientation, reflecting potential behavioral impacts.\n    *   **Full Cohesion Index**: Provides a comprehensive assessment by incorporating identity, emotional, relational, and goal dimensions, representing the most holistic view of democratic health and social cohesion impact.\n\n### Calculated Results:\n\n```json\n{\n  \"tension_indices\": {\n    \"identity_tension\": 0.0,\n    \"emotional_tension\": 0.010000000000000009,\n    \"success_tension\": 0.0,\n    \"relational_tension\": 0.0,\n    \"goal_tension\": 0.07000000000000001\n  },\n  \"strategic_contradiction_index\": 0.016,\n  \"salience_weighted_cohesion_indices\": {\n    \"descriptive_cohesion_index\": -0.7958333333333333,\n    \"motivational_cohesion_index\": -0.7008928571428572,\n    \"full_cohesion_index\": -0.7210526315789474\n  }\n}\n```\n\n### Interpretation of Results:\n\n*   **Tension Indices**:\n    *   **Identity Tension (0.0)**: The scores for Tribal Dominance and Individual Dignity, along with their salience, are sufficiently divergent that the `min` function results in 0.0, indicating no significant tension between these two specific appeals in terms of shared presence.\n    *   **Emotional Tension (0.01)**: A very low tension, suggesting that while both Fear and Hope are present and emphasized, their salience is quite similar, leading to minimal contradiction.\n    *   **Success Tension (0.0)**: Similar to Identity Tension, the `min` function on the scores of Envy and Compersion results in 0.0, indicating no significant overlap in their presence for tension calculation.\n    *   **Relational Tension (0.0)**: The `min` function on Enmity and Amity scores results in 0.0, similar to identity and success tensions.\n    *   **Goal Tension (0.07)**: A low tension score, indicating some level of contradiction between fragmentative and cohesive goals, but not a pronounced one based on these specific scores and salience.\n\n*   **Strategic Contradiction Index (0.016)**:\n    *   This overall index is very low, suggesting that the discourse, based on these scores, is generally coherent across the different dimensions, with minimal pronounced contradictions.\n\n*   **Salience-Weighted Cohesion Indices**:\n    *   **Descriptive Cohesion Index (-0.796)**: This strongly negative score indicates that the discourse is heavily weighted towards negative emotional and relational appeals (Fear, Enmity, Envy) rather than positive ones (Hope, Amity, Compersion). The high salience of Fear and Enmity, coupled with low salience of Hope and Amity, drives this negative score.\n    *   **Motivational Cohesion Index (-0.701)**: Also strongly negative, this reflects that the discourse emphasizes fragmentative goals over cohesive ones, further reinforcing the negative impact on social cohesion and cooperative behavior.\n    *   **Full Cohesion Index (-0.721)**: Consistently negative and substantial, this index suggests that the overall discourse, when considering all dimensions including identity, is significantly undermining social cohesion and democratic health. The high Tribal Dominance score (with moderate salience) heavily counteracts the low Individual Dignity score, contributing to the negative overall assessment.",
  "document_index": 0,
  "timestamp": "2025-09-21T19:12:14.796101+00:00"
}