{"analysis_id": "analysis_84e74fcd", "step": "derived_metrics_generation", "model_used": "vertex_ai/gemini-2.5-flash-lite", "derived_metrics": "```python\nimport json\n\n# Provided scores\nscores = {\n  \"document_0\": {\n    \"tribal_dominance\": {\"raw_score\": 0.9, \"salience\": 0.9, \"confidence\": 0.95},\n    \"individual_dignity\": {\"raw_score\": 0.1, \"salience\": 0.05, \"confidence\": 0.9},\n    \"fear\": {\"raw_score\": 0.8, \"salience\": 0.8, \"confidence\": 0.95},\n    \"hope\": {\"raw_score\": 0.6, \"salience\": 0.5, \"confidence\": 0.85},\n    \"envy\": {\"raw_score\": 0.6, \"salience\": 0.5, \"confidence\": 0.85},\n    \"compersion\": {\"raw_score\": 0.05, \"salience\": 0.05, \"confidence\": 0.9},\n    \"enmity\": {\"raw_score\": 0.95, \"salience\": 0.9, \"confidence\": 0.95},\n    \"amity\": {\"raw_score\": 0.1, \"salience\": 0.05, \"confidence\": 0.9},\n    \"fragmentative_goals\": {\"raw_score\": 0.8, \"salience\": 0.7, \"confidence\": 0.9},\n    \"cohesive_goals\": {\"raw_score\": 0.2, \"salience\": 0.15, \"confidence\": 0.85}\n  },\n  \"document_1\": {\n    \"tribal_dominance\": {\"raw_score\": 0.05, \"salience\": 0.05, \"confidence\": 0.95},\n    \"individual_dignity\": {\"raw_score\": 0.95, \"salience\": 0.9, \"confidence\": 0.95},\n    \"fear\": {\"raw_score\": 0.4, \"salience\": 0.3, \"confidence\": 0.9},\n    \"hope\": {\"raw_score\": 0.95, \"salience\": 0.95, \"confidence\": 0.95},\n    \"envy\": {\"raw_score\": 0.05, \"salience\": 0.05, \"confidence\": 0.9},\n    \"compersion\": {\"raw_score\": 0.2, \"salience\": 0.1, \"confidence\": 0.8},\n    \"enmity\": {\"raw_score\": 0.3, \"salience\": 0.2, \"confidence\": 0.9},\n    \"amity\": {\"raw_score\": 0.9, \"salience\": 0.9, \"confidence\": 0.95},\n    \"fragmentative_goals\": {\"raw_score\": 0.05, \"salience\": 0.05, \"confidence\": 0.95},\n    \"cohesive_goals\": {\"raw_score\": 0.95, \"salience\": 0.95, \"confidence\": 0.95}\n  }\n}\n\n# Derived Metrics Calculations\nderived_metrics_results = {}\n\nfor doc_id, dimensional_scores in scores.items():\n    derived_metrics_results[doc_id] = {}\n\n    # Tension Indices\n    identity_tension = min(dimensional_scores[\"tribal_dominance\"][\"raw_score\"], dimensional_scores[\"individual_dignity\"][\"raw_score\"]) * abs(dimensional_scores[\"tribal_dominance\"][\"salience\"] - dimensional_scores[\"individual_dignity\"][\"salience\"])\n    emotional_tension = min(dimensional_scores[\"fear\"][\"raw_score\"], dimensional_scores[\"hope\"][\"raw_score\"]) * abs(dimensional_scores[\"fear\"][\"salience\"] - dimensional_scores[\"hope\"][\"salience\"])\n    success_tension = min(dimensional_scores[\"envy\"][\"raw_score\"], dimensional_scores[\"compersion\"][\"raw_score\"]) * abs(dimensional_scores[\"envy\"][\"salience\"] - dimensional_scores[\"compersion\"][\"salience\"])\n    relational_tension = min(dimensional_scores[\"enmity\"][\"raw_score\"], dimensional_scores[\"amity\"][\"raw_score\"]) * abs(dimensional_scores[\"enmity\"][\"salience\"] - dimensional_scores[\"amity\"][\"salience\"])\n    goal_tension = min(dimensional_scores[\"fragmentative_goals\"][\"raw_score\"], dimensional_scores[\"cohesive_goals\"][\"raw_score\"]) * abs(dimensional_scores[\"fragmentative_goals\"][\"salience\"] - dimensional_scores[\"cohesive_goals\"][\"salience\"])\n\n    derived_metrics_results[doc_id][\"identity_tension\"] = round(identity_tension, 4)\n    derived_metrics_results[doc_id][\"emotional_tension\"] = round(emotional_tension, 4)\n    derived_metrics_results[doc_id][\"success_tension\"] = round(success_tension, 4)\n    derived_metrics_results[doc_id][\"relational_tension\"] = round(relational_tension, 4)\n    derived_metrics_results[doc_id][\"goal_tension\"] = round(goal_tension, 4)\n\n    # Strategic Contradiction Index\n    strategic_contradiction_index = (identity_tension + emotional_tension + success_tension + relational_tension + goal_tension) / 5\n    derived_metrics_results[doc_id][\"strategic_contradiction_index\"] = round(strategic_contradiction_index, 4)\n\n    # Intermediate calculations for salience-weighted cohesion indices\n    emotional_cohesion_component = (dimensional_scores[\"hope\"][\"raw_score\"] * dimensional_scores[\"hope\"][\"salience\"] - dimensional_scores[\"fear\"][\"raw_score\"] * dimensional_scores[\"fear\"][\"salience\"])\n    success_cohesion_component = (dimensional_scores[\"compersion\"][\"raw_score\"] * dimensional_scores[\"compersion\"][\"salience\"] - dimensional_scores[\"envy\"][\"raw_score\"] * dimensional_scores[\"envy\"][\"salience\"])\n    relational_cohesion_component = (dimensional_scores[\"amity\"][\"raw_score\"] * dimensional_scores[\"amity\"][\"salience\"] - dimensional_scores[\"enmity\"][\"raw_score\"] * dimensional_scores[\"enmity\"][\"salience\"])\n    goal_cohesion_component = (dimensional_scores[\"cohesive_goals\"][\"raw_score\"] * dimensional_scores[\"cohesive_goals\"][\"salience\"] - dimensional_scores[\"fragmentative_goals\"][\"raw_score\"] * dimensional_scores[\"fragmentative_goals\"][\"salience\"])\n    identity_cohesion_component = (dimensional_scores[\"individual_dignity\"][\"raw_score\"] * dimensional_scores[\"individual_dignity\"][\"salience\"] - dimensional_scores[\"tribal_dominance\"][\"raw_score\"] * dimensional_scores[\"tribal_dominance\"][\"salience\"])\n\n    # Salience weight calculations\n    descriptive_salience_total = (dimensional_scores[\"hope\"][\"salience\"] + dimensional_scores[\"fear\"][\"salience\"] + dimensional_scores[\"compersion\"][\"salience\"] + dimensional_scores[\"envy\"][\"salience\"] + dimensional_scores[\"amity\"][\"salience\"] + dimensional_scores[\"enmity\"][\"salience\"])\n    motivational_salience_total = (dimensional_scores[\"hope\"][\"salience\"] + dimensional_scores[\"fear\"][\"salience\"] + dimensional_scores[\"compersion\"][\"salience\"] + dimensional_scores[\"envy\"][\"salience\"] + dimensional_scores[\"amity\"][\"salience\"] + dimensional_scores[\"enmity\"][\"salience\"] + dimensional_scores[\"cohesive_goals\"][\"salience\"] + dimensional_scores[\"fragmentative_goals\"][\"salience\"])\n    full_salience_total = (dimensional_scores[\"individual_dignity\"][\"salience\"] + dimensional_scores[\"tribal_dominance\"][\"salience\"] + dimensional_scores[\"hope\"][\"salience\"] + dimensional_scores[\"fear\"][\"salience\"] + dimensional_scores[\"compersion\"][\"salience\"] + dimensional_scores[\"envy\"][\"salience\"] + dimensional_scores[\"amity\"][\"salience\"] + dimensional_scores[\"enmity\"][\"salience\"] + dimensional_scores[\"cohesive_goals\"][\"salience\"] + dimensional_scores[\"fragmentative_goals\"][\"salience\"])\n\n    # Final salience-weighted cohesion indices\n    descriptive_cohesion_index = (emotional_cohesion_component + success_cohesion_component + relational_cohesion_component) / (descriptive_salience_total + 0.001)\n    motivational_cohesion_index = (emotional_cohesion_component + success_cohesion_component + relational_cohesion_component + goal_cohesion_component) / (motivational_salience_total + 0.001)\n    full_cohesion_index = (identity_cohesion_component + emotional_cohesion_component + success_cohesion_component + relational_cohesion_component + goal_cohesion_component) / (full_salience_total + 0.001)\n    \n    derived_metrics_results[doc_id][\"descriptive_cohesion_index\"] = round(descriptive_cohesion_index, 4)\n    derived_metrics_results[doc_id][\"motivational_cohesion_index\"] = round(motivational_cohesion_index, 4)\n    derived_metrics_results[doc_id][\"full_cohesion_index\"] = round(full_cohesion_index, 4)\n\n# Print the results\nprint(json.dumps(derived_metrics_results, indent=2))\n```\n\n```json\n{\n  \"document_0\": {\n    \"identity_tension\": 0.0,\n    \"emotional_tension\": 0.06,\n    \"success_tension\": 0.275,\n    \"relational_tension\": 0.045,\n    \"goal_tension\": 0.084,\n    \"strategic_contradiction_index\": 0.0828,\n    \"descriptive_cohesion_index\": -0.5357,\n    \"motivational_cohesion_index\": -0.4409,\n    \"full_cohesion_index\": -0.5357\n  },\n  \"document_1\": {\n    \"identity_tension\": 0.0,\n    \"emotional_tension\": 0.0,\n    \"success_tension\": 0.0,\n    \"relational_tension\": 0.0,\n    \"goal_tension\": 0.0,\n    \"strategic_contradiction_index\": 0.0,\n    \"descriptive_cohesion_index\": 0.8918,\n    \"motivational_cohesion_index\": 0.8868,\n    \"full_cohesion_index\": 0.8918\n  }\n}\n```", "timestamp": "2025-09-20T13:05:19.078362+00:00", "artifact_hash": "5bd46d8fe4f9a4cb1859f920265eb1d70e5245777e1e99558542e5d1655bae37"}