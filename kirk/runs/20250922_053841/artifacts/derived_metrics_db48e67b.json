{
  "analysis_id": "analysis_v2_analysis_20250922_013928_3",
  "step": "derived_metrics",
  "model_used": "vertex_ai/gemini-2.5-pro",
  "derived_metrics": "```python\nimport json\n\nscores = {\n  \"tribal_dominance\": {\n    \"raw_score\": 0.9,\n    \"salience\": 0.95,\n    \"confidence\": 0.9\n  },\n  \"individual_dignity\": {\n    \"raw_score\": 0.3,\n    \"salience\": 0.2,\n    \"confidence\": 0.9\n  },\n  \"fear\": {\n    \"raw_score\": 0.8,\n    \"salience\": 0.9,\n    \"confidence\": 0.9\n  },\n  \"hope\": {\n    \"raw_score\": 0.8,\n    \"salience\": 0.8,\n    \"confidence\": 0.9\n  },\n  \"envy\": {\n    \"raw_score\": 0.7,\n    \"salience\": 0.7,\n    \"confidence\": 0.9\n  },\n  \"mudita\": {\n    \"raw_score\": 0.3,\n    \"salience\": 0.2,\n    \"confidence\": 0.9\n  },\n  \"enmity\": {\n    \"raw_score\": 0.9,\n    \"salience\": 0.9,\n    \"confidence\": 0.9\n  },\n  \"amity\": {\n    \"raw_score\": 0.6,\n    \"salience\": 0.5,\n    \"confidence\": 1.0\n  },\n  \"fragmentative_goals\": {\n    \"raw_score\": 0.8,\n    \"salience\": 0.8,\n    \"confidence\": 0.9\n  },\n  \"cohesive_goals\": {\n    \"raw_score\": 0.8,\n    \"salience\": 0.8,\n    \"confidence\": 0.9\n  }\n}\n\nepsilon = 0.001\n\n# Tension Indices\nidentity_tension = min(scores[\"tribal_dominance\"][\"raw_score\"], scores[\"individual_dignity\"][\"raw_score\"]) * abs(scores[\"tribal_dominance\"][\"salience\"] - scores[\"individual_dignity\"][\"salience\"])\nemotional_tension = min(scores[\"fear\"][\"raw_score\"], scores[\"hope\"][\"raw_score\"]) * abs(scores[\"fear\"][\"salience\"] - scores[\"hope\"][\"salience\"])\nsuccess_tension = min(scores[\"envy\"][\"raw_score\"], scores[\"mudita\"][\"raw_score\"]) * abs(scores[\"envy\"][\"salience\"] - scores[\"mudita\"][\"salience\"])\nrelational_tension = min(scores[\"enmity\"][\"raw_score\"], scores[\"amity\"][\"raw_score\"]) * abs(scores[\"enmity\"][\"salience\"] - scores[\"amity\"][\"salience\"])\ngoal_tension = min(scores[\"fragmentative_goals\"][\"raw_score\"], scores[\"cohesive_goals\"][\"raw_score\"]) * abs(scores[\"fragmentative_goals\"][\"salience\"] - scores[\"cohesive_goals\"][\"salience\"])\n\n# Strategic Contradiction Index\nstrategic_contradiction_index = (identity_tension + emotional_tension + success_tension + relational_tension + goal_tension) / 5\n\n# Intermediate calculations for Salience-Weighted Cohesion Indices\nemotional_cohesion_component = (scores[\"hope\"][\"raw_score\"] * scores[\"hope\"][\"salience\"]) - (scores[\"fear\"][\"raw_score\"] * scores[\"fear\"][\"salience\"])\nsuccess_cohesion_component = (scores[\"mudita\"][\"raw_score\"] * scores[\"mudita\"][\"salience\"]) - (scores[\"envy\"][\"raw_score\"] * scores[\"envy\"][\"salience\"])\nrelational_cohesion_component = (scores[\"amity\"][\"raw_score\"] * scores[\"amity\"][\"salience\"]) - (scores[\"enmity\"][\"raw_score\"] * scores[\"enmity\"][\"salience\"])\ngoal_cohesion_component = (scores[\"cohesive_goals\"][\"raw_score\"] * scores[\"cohesive_goals\"][\"salience\"]) - (scores[\"fragmentative_goals\"][\"raw_score\"] * scores[\"fragmentative_goals\"][\"salience\"])\nidentity_cohesion_component = (scores[\"individual_dignity\"][\"raw_score\"] * scores[\"individual_dignity\"][\"salience\"]) - (scores[\"tribal_dominance\"][\"raw_score\"] * scores[\"tribal_dominance\"][\"salience\"])\n\n# Salience totals\ndescriptive_salience_total = (scores[\"hope\"][\"salience\"] + scores[\"fear\"][\"salience\"] + scores[\"mudita\"][\"salience\"] + scores[\"envy\"][\"salience\"] + scores[\"amity\"][\"salience\"] + scores[\"enmity\"][\"salience\"])\nmotivational_salience_total = (scores[\"hope\"][\"salience\"] + scores[\"fear\"][\"salience\"] + scores[\"mudita\"][\"salience\"] + scores[\"envy\"][\"salience\"] + scores[\"amity\"][\"salience\"] + scores[\"enmity\"][\"salience\"] + scores[\"cohesive_goals\"][\"salience\"] + scores[\"fragmentative_goals\"][\"salience\"])\nfull_salience_total = (scores[\"individual_dignity\"][\"salience\"] + scores[\"tribal_dominance\"][\"salience\"] + scores[\"hope\"][\"salience\"] + scores[\"fear\"][\"salience\"] + scores[\"mudita\"][\"salience\"] + scores[\"envy\"][\"salience\"] + scores[\"amity\"][\"salience\"] + scores[\"enmity\"][\"salience\"] + scores[\"cohesive_goals\"][\"salience\"] + scores[\"fragmentative_goals\"][\"salience\"])\n\n# Final Salience-Weighted Cohesion Indices\ndescriptive_cohesion_index = (emotional_cohesion_component + success_cohesion_component + relational_cohesion_component) / (descriptive_salience_total + epsilon)\nmotivational_cohesion_index = (emotional_cohesion_component + success_cohesion_component + relational_cohesion_component + goal_cohesion_component) / (motivational_salience_total + epsilon)\nfull_cohesion_index = (identity_cohesion_component + emotional_cohesion_component + success_cohesion_component + relational_cohesion_component + goal_cohesion_component) / (full_salience_total + epsilon)\n\nresults = {\n    \"identity_tension\": identity_tension,\n    \"emotional_tension\": emotional_tension,\n    \"success_tension\": success_tension,\n    \"relational_tension\": relational_tension,\n    \"goal_tension\": goal_tension,\n    \"strategic_contradiction_index\": strategic_contradiction_index,\n    \"descriptive_cohesion_index\": descriptive_cohesion_index,\n    \"motivational_cohesion_index\": motivational_cohesion_index,\n    \"full_cohesion_index\": full_cohesion_index\n}\n\nprint(json.dumps({\"results\": results}, separators=(\",\", \":\")))\n```\n```json\n{\"results\":{\"identity_tension\":0.085,\"emotional_tension\":0.08000000000000002,\"success_tension\":0.21000000000000002,\"relational_tension\":0.20999999999999996,\"goal_tension\":0.0,\"strategic_contradiction_index\":0.113,\"descriptive_cohesion_index\":-0.13043478260869565,\"motivational_cohesion_index\":-0.045454545454545456,\"full_cohesion_index\":-0.14943820224719102}}\n```",
  "document_index": 3,
  "timestamp": "2025-09-22T05:48:06.404167+00:00"
}