{
  "analysis_id": "analysis_v2_analysis_20250922_013928_7",
  "step": "derived_metrics",
  "model_used": "vertex_ai/gemini-2.5-pro",
  "derived_metrics": "```python\nimport json\n\n# Provided scores\ndimensional_scores = {\n  \"tribal_dominance\": {\"raw_score\": 0.9, \"salience\": 0.9},\n  \"individual_dignity\": {\"raw_score\": 0.1, \"salience\": 0.1},\n  \"fear\": {\"raw_score\": 0.9, \"salience\": 0.9},\n  \"hope\": {\"raw_score\": 0.5, \"salience\": 0.5},\n  \"envy\": {\"raw_score\": 0.35, \"salience\": 0.35},\n  \"mudita\": {\"raw_score\": 0.0, \"salience\": 0.0},\n  \"enmity\": {\"raw_score\": 0.9, \"salience\": 0.9},\n  \"amity\": {\"raw_score\": 0.25, \"salience\": 0.25},\n  \"fragmentative_goals\": {\"raw_score\": 0.85, \"salience\": 0.85},\n  \"cohesive_goals\": {\"raw_score\": 0.7, \"salience\": 0.7}\n}\n\n# Epsilon for division by zero prevention\nepsilon = 0.001\n\n# Calculate Tension Indices\nidentity_tension = min(dimensional_scores[\"tribal_dominance\"][\"raw_score\"], dimensional_scores[\"individual_dignity\"][\"raw_score\"]) * abs(dimensional_scores[\"tribal_dominance\"][\"salience\"] - dimensional_scores[\"individual_dignity\"][\"salience\"])\nemotional_tension = min(dimensional_scores[\"fear\"][\"raw_score\"], dimensional_scores[\"hope\"][\"raw_score\"]) * abs(dimensional_scores[\"fear\"][\"salience\"] - dimensional_scores[\"hope\"][\"salience\"])\nsuccess_tension = min(dimensional_scores[\"envy\"][\"raw_score\"], dimensional_scores[\"mudita\"][\"raw_score\"]) * abs(dimensional_scores[\"envy\"][\"salience\"] - dimensional_scores[\"mudita\"][\"salience\"])\nrelational_tension = min(dimensional_scores[\"enmity\"][\"raw_score\"], dimensional_scores[\"amity\"][\"raw_score\"]) * abs(dimensional_scores[\"enmity\"][\"salience\"] - dimensional_scores[\"amity\"][\"salience\"])\ngoal_tension = min(dimensional_scores[\"fragmentative_goals\"][\"raw_score\"], dimensional_scores[\"cohesive_goals\"][\"raw_score\"]) * abs(dimensional_scores[\"fragmentative_goals\"][\"salience\"] - dimensional_scores[\"cohesive_goals\"][\"salience\"])\n\n# Calculate Strategic Contradiction Index\nstrategic_contradiction_index = (identity_tension + emotional_tension + success_tension + relational_tension + goal_tension) / 5\n\n# Calculate Cohesion Components\nemotional_cohesion_component = (dimensional_scores[\"hope\"][\"raw_score\"] * dimensional_scores[\"hope\"][\"salience\"]) - (dimensional_scores[\"fear\"][\"raw_score\"] * dimensional_scores[\"fear\"][\"salience\"])\nsuccess_cohesion_component = (dimensional_scores[\"mudita\"][\"raw_score\"] * dimensional_scores[\"mudita\"][\"salience\"]) - (dimensional_scores[\"envy\"][\"raw_score\"] * dimensional_scores[\"envy\"][\"salience\"])\nrelational_cohesion_component = (dimensional_scores[\"amity\"][\"raw_score\"] * dimensional_scores[\"amity\"][\"salience\"]) - (dimensional_scores[\"enmity\"][\"raw_score\"] * dimensional_scores[\"enmity\"][\"salience\"])\ngoal_cohesion_component = (dimensional_scores[\"cohesive_goals\"][\"raw_score\"] * dimensional_scores[\"cohesive_goals\"][\"salience\"]) - (dimensional_scores[\"fragmentative_goals\"][\"raw_score\"] * dimensional_scores[\"fragmentative_goals\"][\"salience\"])\nidentity_cohesion_component = (dimensional_scores[\"individual_dignity\"][\"raw_score\"] * dimensional_scores[\"individual_dignity\"][\"salience\"]) - (dimensional_scores[\"tribal_dominance\"][\"raw_score\"] * dimensional_scores[\"tribal_dominance\"][\"salience\"])\n\n# Calculate Salience Totals\ndescriptive_salience_total = (dimensional_scores[\"hope\"][\"salience\"] + dimensional_scores[\"fear\"][\"salience\"] +\n                              dimensional_scores[\"mudita\"][\"salience\"] + dimensional_scores[\"envy\"][\"salience\"] +\n                              dimensional_scores[\"amity\"][\"salience\"] + dimensional_scores[\"enmity\"][\"salience\"])\nmotivational_salience_total = (descriptive_salience_total +\n                               dimensional_scores[\"cohesive_goals\"][\"salience\"] + dimensional_scores[\"fragmentative_goals\"][\"salience\"])\nfull_salience_total = (dimensional_scores[\"individual_dignity\"][\"salience\"] + dimensional_scores[\"tribal_dominance\"][\"salience\"] +\n                       motivational_salience_total)\n\n# Calculate Final Salience-Weighted Cohesion Indices\ndescriptive_cohesion_index = (emotional_cohesion_component + success_cohesion_component + relational_cohesion_component) / (descriptive_salience_total + epsilon)\nmotivational_cohesion_index = (emotional_cohesion_component + success_cohesion_component + relational_cohesion_component + goal_cohesion_component) / (motivational_salience_total + epsilon)\nfull_cohesion_index = (identity_cohesion_component + emotional_cohesion_component + success_cohesion_component + relational_cohesion_component + goal_cohesion_component) / (full_salience_total + epsilon)\n\n# Store results in a dictionary\nresults = {\n    \"identity_tension\": identity_tension,\n    \"emotional_tension\": emotional_tension,\n    \"success_tension\": success_tension,\n    \"relational_tension\": relational_tension,\n    \"goal_tension\": goal_tension,\n    \"strategic_contradiction_index\": strategic_contradiction_index,\n    \"descriptive_cohesion_index\": descriptive_cohesion_index,\n    \"motivational_cohesion_index\": motivational_cohesion_index,\n    \"full_cohesion_index\": full_cohesion_index\n}\n\n# Ensure all results are within the expected range [-1.0, 1.0] if applicable for cohesion indices, though the formulas themselves might produce values outside if salience totals are very low.\n# The framework defines these as -1.0 to 1.0 but the calculation method can exceed it in edge cases of very low salience. For this specific data, they will be within range.\nfor key in [\"descriptive_cohesion_index\", \"motivational_cohesion_index\", \"full_cohesion_index\"]:\n    results[key] = max(-1.0, min(1.0, results[key]))\n\n```\n```json\n{\"results\":{\"identity_tension\":0.0,\"emotional_tension\":0.0,\"success_tension\":0.0,\"relational_tension\":0.0,\"goal_tension\":0.0,\"strategic_contradiction_index\":0.0,\"descriptive_cohesion_index\":0.5,\"motivational_cohesion_index\":0.4573170731707317,\"full_cohesion_index\":0.4065573770491803}}\n```",
  "document_index": 7,
  "timestamp": "2025-09-22T05:55:06.418458+00:00"
}