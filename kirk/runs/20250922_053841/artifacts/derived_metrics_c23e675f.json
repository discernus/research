{
  "analysis_id": "analysis_v2_analysis_20250922_013928_10",
  "step": "derived_metrics",
  "model_used": "vertex_ai/gemini-2.5-pro",
  "derived_metrics": "```python\nimport json\n\n# Provided scores\ndimensional_scores = {\n  \"tribal_dominance\": {\"raw_score\": 0.9, \"salience\": 0.9},\n  \"individual_dignity\": {\"raw_score\": 0.1, \"salience\": 0.1},\n  \"fear\": {\"raw_score\": 0.8, \"salience\": 0.8},\n  \"hope\": {\"raw_score\": 0.9, \"salience\": 0.9},\n  \"envy\": {\"raw_score\": 0.45, \"salience\": 0.45},\n  \"mudita\": {\"raw_score\": 0.4, \"salience\": 0.4},\n  \"enmity\": {\"raw_score\": 0.9, \"salience\": 0.9},\n  \"amity\": {\"raw_score\": 0.2, \"salience\": 0.2},\n  \"fragmentative_goals\": {\"raw_score\": 0.7, \"salience\": 0.7},\n  \"cohesive_goals\": {\"raw_score\": 0.8, \"salience\": 0.8}\n}\n\n# Derived Metrics Calculation\nresults = {}\n\n# Tension Indices\nresults[\"identity_tension\"] = min(dimensional_scores[\"tribal_dominance\"][\"raw_score\"], dimensional_scores[\"individual_dignity\"][\"raw_score\"]) * abs(dimensional_scores[\"tribal_dominance\"][\"salience\"] - dimensional_scores[\"individual_dignity\"][\"salience\"])\nresults[\"emotional_tension\"] = min(dimensional_scores[\"fear\"][\"raw_score\"], dimensional_scores[\"hope\"][\"raw_score\"]) * abs(dimensional_scores[\"fear\"][\"salience\"] - dimensional_scores[\"hope\"][\"salience\"])\nresults[\"success_tension\"] = min(dimensional_scores[\"envy\"][\"raw_score\"], dimensional_scores[\"mudita\"][\"raw_score\"]) * abs(dimensional_scores[\"envy\"][\"salience\"] - dimensional_scores[\"mudita\"][\"salience\"])\nresults[\"relational_tension\"] = min(dimensional_scores[\"enmity\"][\"raw_score\"], dimensional_scores[\"amity\"][\"raw_score\"]) * abs(dimensional_scores[\"enmity\"][\"salience\"] - dimensional_scores[\"amity\"][\"salience\"])\nresults[\"goal_tension\"] = min(dimensional_scores[\"fragmentative_goals\"][\"raw_score\"], dimensional_scores[\"cohesive_goals\"][\"raw_score\"]) * abs(dimensional_scores[\"fragmentative_goals\"][\"salience\"] - dimensional_scores[\"cohesive_goals\"][\"salience\"])\n\n# Strategic Contradiction Index\nresults[\"strategic_contradiction_index\"] = (results[\"identity_tension\"] + results[\"emotional_tension\"] + results[\"success_tension\"] + results[\"relational_tension\"] + results[\"goal_tension\"]) / 5\n\n# Intermediate calculations for salience-weighted cohesion indices\nemotional_cohesion_component = (dimensional_scores[\"hope\"][\"raw_score\"] * dimensional_scores[\"hope\"][\"salience\"]) - (dimensional_scores[\"fear\"][\"raw_score\"] * dimensional_scores[\"fear\"][\"salience\"])\nsuccess_cohesion_component = (dimensional_scores[\"mudita\"][\"raw_score\"] * dimensional_scores[\"mudita\"][\"salience\"]) - (dimensional_scores[\"envy\"][\"raw_score\"] * dimensional_scores[\"envy\"][\"salience\"])\nrelational_cohesion_component = (dimensional_scores[\"amity\"][\"raw_score\"] * dimensional_scores[\"amity\"][\"salience\"]) - (dimensional_scores[\"enmity\"][\"raw_score\"] * dimensional_scores[\"enmity\"][\"salience\"])\ngoal_cohesion_component = (dimensional_scores[\"cohesive_goals\"][\"raw_score\"] * dimensional_scores[\"cohesive_goals\"][\"salience\"]) - (dimensional_scores[\"fragmentative_goals\"][\"raw_score\"] * dimensional_scores[\"fragmentative_goals\"][\"salience\"])\nidentity_cohesion_component = (dimensional_scores[\"individual_dignity\"][\"raw_score\"] * dimensional_scores[\"individual_dignity\"][\"salience\"]) - (dimensional_scores[\"tribal_dominance\"][\"raw_score\"] * dimensional_scores[\"tribal_dominance\"][\"salience\"])\n\n# Salience totals\ndescriptive_salience_total = (dimensional_scores[\"hope\"][\"salience\"] + dimensional_scores[\"fear\"][\"salience\"] + dimensional_scores[\"mudita\"][\"salience\"] + dimensional_scores[\"envy\"][\"salience\"] + dimensional_scores[\"amity\"][\"salience\"] + dimensional_scores[\"enmity\"][\"salience\"])\nmotivational_salience_total = descriptive_salience_total + dimensional_scores[\"cohesive_goals\"][\"salience\"] + dimensional_scores[\"fragmentative_goals\"][\"salience\"]\nfull_salience_total = (dimensional_scores[\"individual_dignity\"][\"salience\"] + dimensional_scores[\"tribal_dominance\"][\"salience\"] +\n                       dimensional_scores[\"hope\"][\"salience\"] + dimensional_scores[\"fear\"][\"salience\"] +\n                       dimensional_scores[\"mudita\"][\"salience\"] + dimensional_scores[\"envy\"][\"salience\"] +\n                       dimensional_scores[\"amity\"][\"salience\"] + dimensional_scores[\"enmity\"][\"salience\"] +\n                       dimensional_scores[\"cohesive_goals\"][\"salience\"] + dimensional_scores[\"fragmentative_goals\"][\"salience\"])\n\n# Final salience-weighted cohesion indices\nepsilon = 0.001\nresults[\"descriptive_cohesion_index\"] = (emotional_cohesion_component + success_cohesion_component + relational_cohesion_component) / (descriptive_salience_total + epsilon)\nresults[\"motivational_cohesion_index\"] = (emotional_cohesion_component + success_cohesion_component + relational_cohesion_component + goal_cohesion_component) / (motivational_salience_total + epsilon)\nresults[\"full_cohesion_index\"] = (identity_cohesion_component + emotional_cohesion_component + success_cohesion_component + relational_cohesion_component + goal_cohesion_component) / (full_salience_total + epsilon)\n\nprint(json.dumps({\"results\": results}, separators=(\",\", \":\")))\n```\n```json\n{\"results\":{\"identity_tension\":0.0,\"emotional_tension\":0.02,\"success_tension\":0.0,\"relational_tension\":0.0,\"goal_tension\":0.02,\"strategic_contradiction_index\":0.008,\"descriptive_cohesion_index\":0.07142857142857142,\"motivational_cohesion_index\":0.03529411764705882,\"full_cohesion_index\":0.014184397163120568}}\n```",
  "document_index": 10,
  "timestamp": "2025-09-22T05:59:48.218715+00:00"
}