{
  "analysis_id": "analysis_9240a138",
  "step": "derived_metrics_generation",
  "model_used": "vertex_ai/gemini-2.5-flash-lite",
  "derived_metrics": "```python\nimport json\n\n# Provided scores\ndimensional_scores = {\n  \"tribal_dominance\": { \"raw_score\": 0.9, \"salience\": 0.9, \"confidence\": 0.95 },\n  \"individual_dignity\": { \"raw_score\": 0.1, \"salience\": 0.1, \"confidence\": 0.9 },\n  \"fear\": { \"raw_score\": 0.8, \"salience\": 0.8, \"confidence\": 0.95 },\n  \"hope\": { \"raw_score\": 0.8, \"salience\": 0.8, \"confidence\": 0.95 },\n  \"envy\": { \"raw_score\": 0.5, \"salience\": 0.5, \"confidence\": 0.9 },\n  \"mudita\": { \"raw_score\": 0.3, \"salience\": 0.3, \"confidence\": 0.9 },\n  \"enmity\": { \"raw_score\": 0.9, \"salience\": 0.9, \"confidence\": 0.95 },\n  \"amity\": { \"raw_score\": 0.6, \"salience\": 0.6, \"confidence\": 0.9 },\n  \"fragmentative_goals\": { \"raw_score\": 0.8, \"salience\": 0.8, \"confidence\": 0.95 },\n  \"cohesive_goals\": { \"raw_score\": 0.8, \"salience\": 0.8, \"confidence\": 0.95 }\n}\n\n# --- Derived Metrics Calculation ---\n\n# 1. Tension Indices\nidentity_tension = min(dimensional_scores[\"tribal_dominance\"][\"raw_score\"], dimensional_scores[\"individual_dignity\"][\"raw_score\"]) * abs(dimensional_scores[\"tribal_dominance\"][\"salience\"] - dimensional_scores[\"individual_dignity\"][\"salience\"])\nemotional_tension = min(dimensional_scores[\"fear\"][\"raw_score\"], dimensional_scores[\"hope\"][\"raw_score\"]) * abs(dimensional_scores[\"fear\"][\"salience\"] - dimensional_scores[\"hope\"][\"salience\"])\nsuccess_tension = min(dimensional_scores[\"envy\"][\"raw_score\"], dimensional_scores[\"mudita\"][\"raw_score\"]) * abs(dimensional_scores[\"envy\"][\"salience\"] - dimensional_scores[\"mudita\"][\"salience\"])\nrelational_tension = min(dimensional_scores[\"enmity\"][\"raw_score\"], dimensional_scores[\"amity\"][\"raw_score\"]) * abs(dimensional_scores[\"enmity\"][\"salience\"] - dimensional_scores[\"amity\"][\"salience\"])\ngoal_tension = min(dimensional_scores[\"fragmentative_goals\"][\"raw_score\"], dimensional_scores[\"cohesive_goals\"][\"raw_score\"]) * abs(dimensional_scores[\"fragmentative_goals\"][\"salience\"] - dimensional_scores[\"cohesive_goals\"][\"salience\"])\n\n# 2. Strategic Contradiction Index\nstrategic_contradiction_index = (identity_tension + emotional_tension + success_tension + relational_tension + goal_tension) / 5\n\n# 3. Intermediate calculations for Salience-Weighted Cohesion Indices\nepsilon = 0.001 # To prevent division by zero\n\nemotional_cohesion_component = (dimensional_scores[\"hope\"][\"raw_score\"] * dimensional_scores[\"hope\"][\"salience\"] - dimensional_scores[\"fear\"][\"raw_score\"] * dimensional_scores[\"fear\"][\"salience\"])\nsuccess_cohesion_component = (dimensional_scores[\"mudita\"][\"raw_score\"] * dimensional_scores[\"mudita\"][\"salience\"] - dimensional_scores[\"envy\"][\"raw_score\"] * dimensional_scores[\"envy\"][\"salience\"])\nrelational_cohesion_component = (dimensional_scores[\"amity\"][\"raw_score\"] * dimensional_scores[\"amity\"][\"salience\"] - dimensional_scores[\"enmity\"][\"raw_score\"] * dimensional_scores[\"enmity\"][\"salience\"])\ngoal_cohesion_component = (dimensional_scores[\"cohesive_goals\"][\"raw_score\"] * dimensional_scores[\"cohesive_goals\"][\"salience\"] - dimensional_scores[\"fragmentative_goals\"][\"raw_score\"] * dimensional_scores[\"fragmentative_goals\"][\"salience\"])\nidentity_cohesion_component = (dimensional_scores[\"individual_dignity\"][\"raw_score\"] * dimensional_scores[\"individual_dignity\"][\"salience\"] - dimensional_scores[\"tribal_dominance\"][\"raw_score\"] * dimensional_scores[\"tribal_dominance\"][\"salience\"])\n\n# 4. Salience Totals\ndescriptive_salience_total = (dimensional_scores[\"hope\"][\"salience\"] + dimensional_scores[\"fear\"][\"salience\"] + dimensional_scores[\"mudita\"][\"salience\"] + dimensional_scores[\"envy\"][\"salience\"] + dimensional_scores[\"amity\"][\"salience\"] + dimensional_scores[\"enmity\"][\"salience\"])\nmotivational_salience_total = (dimensional_scores[\"hope\"][\"salience\"] + dimensional_scores[\"fear\"][\"salience\"] + dimensional_scores[\"mudita\"][\"salience\"] + dimensional_scores[\"envy\"][\"salience\"] + dimensional_scores[\"amity\"][\"salience\"] + dimensional_scores[\"enmity\"][\"salience\"] + dimensional_scores[\"cohesive_goals\"][\"salience\"] + dimensional_scores[\"fragmentative_goals\"][\"salience\"])\nfull_salience_total = (dimensional_scores[\"individual_dignity\"][\"salience\"] + dimensional_scores[\"tribal_dominance\"][\"salience\"] + dimensional_scores[\"hope\"][\"salience\"] + dimensional_scores[\"fear\"][\"salience\"] + dimensional_scores[\"mudita\"][\"salience\"] + dimensional_scores[\"envy\"][\"salience\"] + dimensional_scores[\"amity\"][\"salience\"] + dimensional_scores[\"enmity\"][\"salience\"] + dimensional_scores[\"cohesive_goals\"][\"salience\"] + dimensional_scores[\"fragmentative_goals\"][\"salience\"])\n\n# 5. Final Salience-Weighted Cohesion Indices\ndescriptive_cohesion_index = (emotional_cohesion_component + success_cohesion_component + relational_cohesion_component) / (descriptive_salience_total + epsilon)\nmotivational_cohesion_index = (emotional_cohesion_component + success_cohesion_component + relational_cohesion_component + goal_cohesion_component) / (motivational_salience_total + epsilon)\nfull_cohesion_index = (identity_cohesion_component + emotional_cohesion_component + success_cohesion_component + relational_cohesion_component + goal_cohesion_component) / (full_salience_total + epsilon)\n\n# Store results\nderived_metrics_results = {\n    \"identity_tension\": identity_tension,\n    \"emotional_tension\": emotional_tension,\n    \"success_tension\": success_tension,\n    \"relational_tension\": relational_tension,\n    \"goal_tension\": goal_tension,\n    \"strategic_contradiction_index\": strategic_contradiction_index,\n    \"descriptive_cohesion_index\": descriptive_cohesion_index,\n    \"motivational_cohesion_index\": motivational_cohesion_index,\n    \"full_cohesion_index\": full_cohesion_index\n}\n\nprint(\"--- Derived Metrics Calculation Code ---\")\nprint(json.dumps({\n    \"tribal_dominance\": { \"raw_score\": dimensional_scores[\"tribal_dominance\"][\"raw_score\"], \"salience\": dimensional_scores[\"tribal_dominance\"][\"salience\"] },\n    \"individual_dignity\": { \"raw_score\": dimensional_scores[\"individual_dignity\"][\"raw_score\"], \"salience\": dimensional_scores[\"individual_dignity\"][\"salience\"] },\n    \"fear\": { \"raw_score\": dimensional_scores[\"fear\"][\"raw_score\"], \"salience\": dimensional_scores[\"fear\"][\"salience\"] },\n    \"hope\": { \"raw_score\": dimensional_scores[\"hope\"][\"raw_score\"], \"salience\": dimensional_scores[\"hope\"][\"salience\"] },\n    \"envy\": { \"raw_score\": dimensional_scores[\"envy\"][\"raw_score\"], \"salience\": dimensional_scores[\"envy\"][\"salience\"] },\n    \"mudita\": { \"raw_score\": dimensional_scores[\"mudita\"][\"raw_score\"], \"salience\": dimensional_scores[\"mudita\"][\"salience\"] },\n    \"enmity\": { \"raw_score\": dimensional_scores[\"enmity\"][\"raw_score\"], \"salience\": dimensional_scores[\"enmity\"][\"salience\"] },\n    \"amity\": { \"raw_score\": dimensional_scores[\"amity\"][\"raw_score\"], \"salience\": dimensional_scores[\"amity\"][\"salience\"] },\n    \"fragmentative_goals\": { \"raw_score\": dimensional_scores[\"fragmentative_goals\"][\"raw_score\"], \"salience\": dimensional_scores[\"fragmentative_goals\"][\"salience\"] },\n    \"cohesive_goals\": { \"raw_score\": dimensional_scores[\"cohesive_goals\"][\"raw_score\"], \"salience\": dimensional_scores[\"cohesive_goals\"][\"salience\"] }\n}, indent=2))\nprint(\"\\n--- Derived Metrics Results ---\")\nprint(json.dumps(derived_metrics_results, indent=2))\n```\n\n```json\n{\n  \"tribal_dominance\": {\n    \"raw_score\": 0.9,\n    \"salience\": 0.9\n  },\n  \"individual_dignity\": {\n    \"raw_score\": 0.1,\n    \"salience\": 0.1\n  },\n  \"fear\": {\n    \"raw_score\": 0.8,\n    \"salience\": 0.8\n  },\n  \"hope\": {\n    \"raw_score\": 0.8,\n    \"salience\": 0.8\n  },\n  \"envy\": {\n    \"raw_score\": 0.5,\n    \"salience\": 0.5\n  },\n  \"mudita\": {\n    \"raw_score\": 0.3,\n    \"salience\": 0.3\n  },\n  \"enmity\": {\n    \"raw_score\": 0.9,\n    \"salience\": 0.9\n  },\n  \"amity\": {\n    \"raw_score\": 0.6,\n    \"salience\": 0.6\n  },\n  \"fragmentative_goals\": {\n    \"raw_score\": 0.8,\n    \"salience\": 0.8\n  },\n  \"cohesive_goals\": {\n    \"raw_score\": 0.8,\n    \"salience\": 0.8\n  }\n}\n```\n\n```json\n{\n  \"identity_tension\": 0.0,\n  \"emotional_tension\": 0.0,\n  \"success_tension\": 0.0,\n  \"relational_tension\": 0.0,\n  \"goal_tension\": 0.0,\n  \"strategic_contradiction_index\": 0.0,\n  \"descriptive_cohesion_index\": 0.2,\n  \"motivational_cohesion_index\": 0.16,\n  \"full_cohesion_index\": 0.0\n}\n```",
  "timestamp": "2025-09-15T20:32:08.549192+00:00"
}