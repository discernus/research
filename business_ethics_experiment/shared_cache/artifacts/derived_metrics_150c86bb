{
  "analysis_id": "analysis_615a37cc",
  "step": "derived_metrics_generation",
  "model_used": "vertex_ai/gemini-2.5-flash-lite",
  "derived_metrics": "```python\nimport json\n\n# Provided dimensional scores\nscores = {\n  \"customer_service\": {\n    \"raw_score\": 0.5,\n    \"salience\": 0.4,\n    \"confidence\": 0.9\n  },\n  \"customer_exploitation\": {\n    \"raw_score\": 0.0,\n    \"salience\": 0.0,\n    \"confidence\": 1.0\n  },\n  \"employee_development\": {\n    \"raw_score\": 0.9,\n    \"salience\": 0.9,\n    \"confidence\": 1.0\n  },\n  \"employee_exploitation\": {\n    \"raw_score\": 0.0,\n    \"salience\": 0.0,\n    \"confidence\": 1.0\n  },\n  \"accountability\": {\n    \"raw_score\": 0.9,\n    \"salience\": 0.8,\n    \"confidence\": 0.9\n  },\n  \"opacity\": {\n    \"raw_score\": 0.0,\n    \"salience\": 0.0,\n    \"confidence\": 1.0\n  },\n  \"financial_responsibility\": {\n    \"raw_score\": 0.8,\n    \"salience\": 0.7,\n    \"confidence\": 0.9\n  },\n  \"financial_manipulation\": {\n    \"raw_score\": 0.0,\n    \"salience\": 0.0,\n    \"confidence\": 1.0\n  },\n  \"sustainable_purpose\": {\n    \"raw_score\": 1.0,\n    \"salience\": 1.0,\n    \"confidence\": 1.0\n  },\n  \"short_term_extraction\": {\n    \"raw_score\": 0.2,\n    \"salience\": 0.2,\n    \"confidence\": 0.8\n  }\n}\n\n# Calculate Derived Metrics\n\n# Domain Indices\nstakeholder_focus_index = ((scores['customer_service']['raw_score'] + scores['employee_development']['raw_score']) / 2) - ((scores['customer_exploitation']['raw_score'] + scores['employee_exploitation']['raw_score']) / 2)\noperational_ethics_index = ((scores['accountability']['raw_score'] + scores['financial_responsibility']['raw_score']) / 2) - ((scores['opacity']['raw_score'] + scores['financial_manipulation']['raw_score']) / 2)\nstrategic_ethics_index = (scores['sustainable_purpose']['raw_score'] - scores['short_term_extraction']['raw_score'] + 1) / 2\n\n# Salience-Weighted Metrics\n# Adding a small epsilon to denominators to prevent division by zero\nepsilon = 0.001\n\nsalience_weighted_stakeholder_focus = ((scores['customer_service']['raw_score'] * scores['customer_service']['salience'] + scores['employee_development']['raw_score'] * scores['employee_development']['salience']) - (scores['customer_exploitation']['raw_score'] * scores['customer_exploitation']['salience'] + scores['employee_exploitation']['raw_score'] * scores['employee_exploitation']['salience'])) / (scores['customer_service']['salience'] + scores['employee_development']['salience'] + scores['customer_exploitation']['salience'] + scores['employee_exploitation']['salience'] + epsilon)\nsalience_weighted_operational_ethics = ((scores['accountability']['raw_score'] * scores['accountability']['salience'] + scores['financial_responsibility']['raw_score'] * scores['financial_responsibility']['salience']) - (scores['opacity']['raw_score'] * scores['opacity']['salience'] + scores['financial_manipulation']['raw_score'] * scores['financial_manipulation']['salience'])) / (scores['accountability']['salience'] + scores['financial_responsibility']['salience'] + scores['opacity']['salience'] + scores['financial_manipulation']['salience'] + epsilon)\nsalience_weighted_strategic_ethics = (scores['sustainable_purpose']['raw_score'] * scores['sustainable_purpose']['salience'] - scores['short_term_extraction']['raw_score'] * scores['short_term_extraction']['salience']) / (scores['sustainable_purpose']['salience'] + scores['short_term_extraction']['salience'] + epsilon)\n\n# Strategic Contradiction Analysis\ncorporate_responsibility_contradiction_index = (\n    min(scores['customer_service']['raw_score'], scores['customer_exploitation']['raw_score']) * abs(scores['customer_service']['salience'] - scores['customer_exploitation']['salience']) +\n    min(scores['employee_development']['raw_score'], scores['employee_exploitation']['raw_score']) * abs(scores['employee_development']['salience'] - scores['employee_exploitation']['salience']) +\n    min(scores['accountability']['raw_score'], scores['opacity']['raw_score']) * abs(scores['accountability']['salience'] - scores['opacity']['salience']) +\n    min(scores['financial_responsibility']['raw_score'], scores['financial_manipulation']['raw_score']) * abs(scores['financial_responsibility']['salience'] - scores['financial_manipulation']['salience']) +\n    min(scores['sustainable_purpose']['raw_score'], scores['short_term_extraction']['raw_score']) * abs(scores['sustainable_purpose']['salience'] - scores['short_term_extraction']['salience'])\n)\nstakeholder_strategy_coherence = 1 - (abs(scores['customer_service']['raw_score'] - scores['employee_development']['raw_score']) + abs(scores['customer_exploitation']['raw_score'] - scores['employee_exploitation']['raw_score'])) / 2\n\n# Store results\nderived_metrics_results = {\n  \"stakeholder_focus_index\": stakeholder_focus_index,\n  \"operational_ethics_index\": operational_ethics_index,\n  \"strategic_ethics_index\": strategic_ethics_index,\n  \"salience_weighted_stakeholder_focus\": salience_weighted_stakeholder_focus,\n  \"salience_weighted_operational_ethics\": salience_weighted_operational_ethics,\n  \"salience_weighted_strategic_ethics\": salience_weighted_strategic_ethics,\n  \"corporate_responsibility_contradiction_index\": corporate_responsibility_contradiction_index,\n  \"stakeholder_strategy_coherence\": stakeholder_strategy_coherence\n}\n\nprint(\"Calculated Derived Metrics:\")\nprint(json.dumps(derived_metrics_results, indent=2))\n```\n\n```json\n{\n  \"Calculated Derived Metrics:\": {\n    \"stakeholder_focus_index\": 0.7,\n    \"operational_ethics_index\": 0.85,\n    \"strategic_ethics_index\": 0.7,\n    \"salience_weighted_stakeholder_focus\": 0.9,\n    \"salience_weighted_operational_ethics\": 0.85,\n    \"salience_weighted_strategic_ethics\": 0.7,\n    \"corporate_responsibility_contradiction_index\": 0.0,\n    \"stakeholder_strategy_coherence\": 0.0\n  }\n}\n```",
  "timestamp": "2025-09-16T23:57:49.242251+00:00"
}